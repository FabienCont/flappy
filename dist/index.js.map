{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./sources/theatre/modules/world.js","webpack:///./sources/game/scenes/loading/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./sources/game/scenes/loading/destroy.js","webpack:///./sources/game/scenes/loading/render.js","webpack:///./sources/game/scenes/loading/resize.js","webpack:///./sources/game/scenes/loading/setup.js","webpack:///./sources/game/scenes/loading/start.js","webpack:///./sources/game/scenes/loading/update.js","webpack:///./sources/game/scenes/demo/index.js","webpack:///./sources/game/scenes/demo/destroy.js","webpack:///./sources/game/scenes/demo/resize.js","webpack:///./sources/game/scenes/demo/start.js","webpack:///./sources/game/entities/demo/theatre.js","webpack:///./sources/game/components/common/camera.js","webpack:///./sources/game/components/common/images.js","webpack:///./sources/game/components/common/origin.js","webpack:///./sources/game/components/common/position.js","webpack:///./sources/game/systems/common/fade.js","webpack:///./sources/game/systems/common/images.js","webpack:///./sources/game/scenes/demo/render.js","webpack:///./sources/theatre/modules/ease.js","webpack:///./sources/game/scenes/demo/setup.js","webpack:///./sources/theatre/modules/camera.js","webpack:///./sources/game/systems/common/forces.js","webpack:///./sources/game/scenes/demo/update.js","webpack:///./sources/game/assets/images/common/placeholder-8x1.png","webpack:///./sources/game/assets/images/common/theatre-32x32.png","webpack:///./sources/game/assets/datasets/index.js","webpack:///./sources/game/assets/images/index.js","webpack:///./sources/game/assets/index.js","webpack:///./sources/theatre/core/canvas.js","webpack:///./sources/index.js","webpack:///./sources/theatre/core/theatre.js","webpack:///./sources/theatre/core/loop.js","webpack:///./sources/theatre/core/preload.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Entity","components","this","add","_this","Array","isArray","forEach","component","has","iterator","length","search","replace","exclude","remove","World","context","entities","_this2","entity","system","handler","arguments","undefined","chosen","entries","_ref","_ref2","_slicedToArray","__webpack_exports__","_destroy_js__WEBPACK_IMPORTED_MODULE_0__","_render_js__WEBPACK_IMPORTED_MODULE_1__","_resize_js__WEBPACK_IMPORTED_MODULE_2__","_setup_js__WEBPACK_IMPORTED_MODULE_3__","_start_js__WEBPACK_IMPORTED_MODULE_4__","_update_js__WEBPACK_IMPORTED_MODULE_5__","hot","accept","originalModule","webpackPolyfill","children","destroy","console","log","state","redirect","render","fillStyle","fillRect","size","width","height","font","textAlign","textBaseline","fillText","preloading","resize","setup","start","update","setTimeout","load","$camera","$origins","$world","default","x","y","world","camera","opacity","parts","image","destination","frame","framerate","frames","source","elapsed","assets","images","common","theatre","reference","z","fade","cameraComponent","fadeComponent","remaining","duration","delta","progress","faded","easing","ending","images_images","images_slicedToArray","imagesComponent","originComponent","positionComponent","_frames$image$frame","placeholder","Math","floor","scale","easeIn","power","pow","easeOut","shaking","current","force","shift","position","target","splice","idle","visible","alpha","globalAlpha","drawImage","set","shake","reverse","amplitude","angle","random","PI","round","cos","sin","forces","forcesComponent","trashes","unlimited","moved","handling","push","indexOf","filter","scope","type","assets_assets","concat","_toConsumableArray","Canvas","identifier","pixelated","element","document","createElement","getContext","ratio","window","devicePixelRatio","setAttribute","style","imageRendering","imageSmoothingEnabled","config","container","scenes","expose","sharp","speed","offsetHeight","offsetWidth","loading","restarting","version","scene","restart","canvas","appendChild","loop","elapsedTime","lastRender","lastUpdate","currentRender","performance","now","requestAnimationFrame","currentUpdate","timeframe","promises","asset","promise","Promise","resolve","reject","Image","src","onload","sound","Audio","oncanplaythrough","cloneNode","all","then","preload","body","scenes_namespaceObject"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","function Entity(name, components) {\n\n    function add(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        components.forEach((component) => {\n\n            this.components[component.name] = component;\n        });\n    }\n\n    function get(component) {\n\n        return this.components[component];\n    }\n\n    function has(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const search = components[iterator];\n            const component = search.replace('not:', '');\n            const exclude = search !== component;\n\n            if (this.components.hasOwnProperty(component) === exclude) {\n\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function remove(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const component = components[iterator];\n\n            if (this.components.hasOwnProperty(component) === true) {\n\n                delete this.components[component];\n            }\n        }\n    }\n\n    this.components = {};\n    this.name = name;\n\n    this.add = add;\n    this.get = get;\n    this.has = has;\n    this.remove = remove;\n\n    this.add(components);\n}\n\nfunction World(context) {\n\n    function add(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        entities.forEach((entity) => {\n\n            this.entities[entity.name] = entity;\n        });\n    }\n\n    function get(entity) {\n\n        return this.entities[entity];\n    }\n\n    function remove(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        for (let iterator = 0, length = entities.length; iterator < length; iterator += 1) {\n\n            const entity = entities[iterator];\n            const key = entity.name || entity;\n\n            if (this.entities.hasOwnProperty(key) === true) {\n\n                delete this.entities[key];\n            }\n        }\n    }\n\n    function system(components, handler, entities = this.entities) {\n\n        const chosen = {};\n\n        Object.entries(entities).forEach(([name, entity]) => {\n\n            if (entity.has(components) === true) {\n\n                chosen[name] = entity;\n            }\n        });\n\n        handler.call(context, chosen);\n    }\n\n    this.entities = {};\n\n    this.add = add;\n    this.get = get;\n    this.remove = remove;\n    this.system = system;\n}\n\nexport {\n\n    // exports current module as an object\n    World,\n\n    // exports helpers for current module\n    Entity\n};\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {resize} from './resize.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './resize.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, resize, setup, start, update};\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function destroy() {\n\n    console.log('destroy loading scene');\n    console.log('-------');\n\n    delete this.state.redirect;\n}\n\nexport {destroy};\n","function render() {\n\n    // console.log('render loading scene');\n\n    this.context.fillStyle = '#181a1f';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.context.font = '16px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n    this.context.fillStyle = '#6b717d';\n    this.context.fillText('/ Theatre', 8, 8);\n    this.context.fillStyle = '#d7dae0';\n\n    this.context.fillText('$ preloading assets...', 8, 32);\n\n    if (this.preloading === false) {\n\n        this.context.fillText('$ preloading completed', 8, 32 + 24);\n        this.context.fillText('$ loading demo scene...', 8, 32 + 24 + 24);\n    }\n}\n\nexport {render};\n","function resize() {\n\n    console.log('resize loading scene');\n}\n\nexport {resize};\n","function setup() {\n\n    console.log('setup loading scene');\n}\n\nexport {setup};\n","function start() {\n\n    console.log('start loading scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","function update() {\n\n    // console.log('update loading scene');\n\n    if (this.preloading === false && this.state.redirect === false) {\n\n        setTimeout(() => {\n\n            this.load('demo');\n\n        }, 3000);\n\n        this.state.redirect = true;\n    }\n}\n\nexport {update};\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {resize} from './resize.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './resize.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, resize, setup, start, update};\n","function destroy() {\n\n    console.log('destroy demo scene');\n    console.log('-------');\n\n    delete this.$camera;\n    delete this.$origins;\n    delete this.$world;\n}\n\nexport {destroy};\n","function resize() {\n\n    console.log('resize demo scene');\n\n    this.$camera.size.height = this.size.height;\n    this.$camera.size.width = this.size.width;\n\n    this.$origins.default.x = this.size.width / 2;\n    this.$origins.default.y = this.size.height / 2;\n    // this.$origins.default.z = 0;\n    // this.$origins.default.scale = 1;\n}\n\nexport {resize};\n","import {theatre} from 'entities/demo/theatre.js';\n\nfunction start() {\n\n    console.log('start demo scene');\n\n    this.$world.add(theatre.call(this));\n}\n\nexport {start};\n","import {Entity} from 'modules/world.js';\n\nimport {Camera} from 'components/common/camera.js';\nimport {Images} from 'components/common/images.js';\nimport {Origin} from 'components/common/origin.js';\nimport {Position} from 'components/common/position.js';\n\nfunction theatre() {\n\n    const entity = new Entity('theatre', [\n\n        new Camera(this.$camera),\n        new Images([\n\n            {\n                'source': this.assets.images.common.theatre(),\n                'frames': [\n\n                    [0, 0, 32, 32],\n                    [1, 0, 32, 32],\n                    [2, 0, 32, 32],\n                    [3, 0, 32, 32],\n                    [4, 0, 32, 32],\n                    [5, 0, 32, 32],\n                    [6, 0, 32, 32],\n                    [7, 0, 32, 32]\n                ],\n                'frame': 0,\n                'destination': [0, 0, 0, 64, 64]\n            }\n        ]),\n        new Origin(this.$origins.default),\n        new Position(\n\n            -(64 / 2),\n            -(64 / 2),\n            0\n        )\n    ]);\n\n    return entity;\n}\n\nexport {theatre};\n","function Camera(camera, opacity = 1) {\n\n    this.name = 'camera';\n\n    this.camera = camera;\n    this.opacity = opacity;\n}\n\nexport {Camera};\n","function Images(parts) {\n\n    this.name = 'images';\n\n    this.parts = parts;\n\n    this.parts.forEach((image) => {\n\n        const {destination, frame, framerate, frames, opacity, source} = image;\n\n        image.source = source;\n\n        image.frames = frames || [[0, 0, 32, 32]];\n        image.frame = frame || 0;\n        image.framerate = framerate || 8;\n        image.destination = destination || [0, 0, 0, 32, 32];\n        image.opacity = opacity || 1;\n\n        image.elapsed = 0;\n    });\n}\n\nexport {Images};\n","function Origin(reference) {\n\n    this.name = 'origin';\n\n    this.reference = reference;\n}\n\nexport {Origin};\n","function Position(x, y, z = 0) {\n\n    this.name = 'position';\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n}\n\nexport {Position};\n","function fade(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const cameraComponent = entity.get('camera');\n        const fadeComponent = entity.get('fade');\n\n        if (fadeComponent.fade === null) {\n\n            fadeComponent.fade = fadeComponent.opacity - cameraComponent.opacity;\n        }\n\n        const remaining = fadeComponent.duration - fadeComponent.elapsed;\n        const delta = this.delta.update > remaining ? remaining : this.delta.update;\n\n        const progress = (fadeComponent.elapsed + delta) / fadeComponent.duration;\n        const faded = fadeComponent.fade * fadeComponent.easing(progress);\n\n        cameraComponent.opacity += faded - fadeComponent.faded;\n        fadeComponent.faded = faded;\n\n        fadeComponent.elapsed += delta;\n\n        if (fadeComponent.elapsed >= fadeComponent.duration\n        && typeof fadeComponent.ending === 'function') {\n\n            fadeComponent.ending(entity, this.delta.update - delta);\n        }\n    });\n}\n\nexport {fade};\n","function images(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const cameraComponent = entity.get('camera');\n        const imagesComponent = entity.get('images');\n        const originComponent = entity.get('origin');\n        const positionComponent = entity.get('position');\n\n        imagesComponent.parts.forEach((image) => {\n\n            const {destination, framerate, frames, opacity} = image;\n\n            let {source} = image;\n\n            if (frames.length > 1) {\n\n                image.elapsed += this.delta.update;\n\n                const duration = 1000 / framerate;\n\n                while (image.elapsed >= duration) {\n\n                    image.elapsed -= duration;\n                    image.frame = (image.frame === frames.length - 1) ? 0 : image.frame + 1;\n                }\n            }\n\n            let [x, y, width, height] = frames[image.frame];\n\n            if (typeof source === 'undefined') {\n\n                source = this.assets.images.common.placeholder();\n\n                x = x % 8;\n                y = y % 1;\n                width = 1;\n                height = 1;\n            }\n\n            cameraComponent.camera.add({\n\n                'source': source,\n                'frame': {\n\n                    'x': width * x,\n                    'y': height * y,\n                    'width': width,\n                    'height': height\n                },\n                'destination': {\n\n                    'x': Math.floor((positionComponent.x + destination[0]) * originComponent.reference.scale + originComponent.reference.x),\n                    'y': Math.floor((positionComponent.y + destination[1]) * originComponent.reference.scale + originComponent.reference.y),\n                    'z': Math.floor(positionComponent.z + destination[2] + originComponent.reference.z),\n                    'width': (destination[3] * originComponent.reference.scale),\n                    'height': (destination[4] * originComponent.reference.scale)\n                },\n                'opacity': cameraComponent.opacity * opacity\n            });\n        });\n    });\n}\n\nexport {images};\n","import {fade} from 'systems/common/fade.js';\nimport {images} from 'systems/common/images.js';\n\nfunction render() {\n\n    // console.log('render demo scene');\n\n    this.context.fillStyle = '#cbdbfc';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.$world.system(['camera', 'fade'], fade);\n    this.$world.system(['camera', 'images', 'origin', 'position'], images);\n\n    this.$camera.render();\n}\n\nexport {render};\n","function easeIn(power) {\n\n    // accelerating from zero velocity\n    return (x) => x ** power;\n}\n\nfunction easeInOut(power) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return (x) => {\n\n        if (x < 0.5) {\n\n            return easeIn(power)(2 * x) / 2\n        }\n\n        return 1 - easeInOut(power)(1 - x)\n    }\n}\n\nfunction easeOut(power) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return (x) => 1 - easeIn(power)(1 - x);\n}\n\nfunction linear(factor) {\n\n    // linear progression\n    return (x) => x * factor;\n}\n\nfunction easeInQuad(x) {\n\n    // accelerating from zero velocity\n    return easeIn(2)(x);\n}\n\nfunction easeInCubic(x) {\n\n    // accelerating from zero velocity\n    return easeIn(3)(x);\n}\n\nfunction easeInQuart(x) {\n\n    // accelerating from zero velocity\n    return easeIn(4)(x);\n}\n\nfunction easeInOutQuad(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(2)(x);\n}\n\nfunction easeInOutCubic(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(3)(x);\n}\n\nfunction easeInOutQuart(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(4)(x);\n}\n\nfunction easeOutQuad(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(2)(x);\n}\n\nfunction easeOutCubic(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(3)(x);\n}\n\nfunction easeOutQuart(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(4)(x);\n}\n\nfunction reverse(handler) {\n\n    // reversing easing function\n    return (x) => handler(1 - x);\n}\n\n// exports current module as functions\nexport {\n\n    // export ease function creators\n    easeIn, easeInOut, easeOut, linear,\n\n    // export ease-in functions\n    easeInCubic, easeInQuad, easeInQuart,\n\n    // export ease-in-out functions\n    easeInOutCubic, easeInOutQuad, easeInOutQuart,\n\n    // export ease-out functions\n    easeOutCubic, easeOutQuad, easeOutQuart,\n\n    // export utility functions\n    reverse\n};\n","import {Camera} from 'modules/camera.js';\nimport {World} from 'modules/world.js';\n\nfunction setup() {\n\n    console.log('setup demo scene');\n\n    this.$camera = new Camera(this.context, this.size.width, this.size.height);\n    this.$world = new World(this);\n\n    this.$origins = {\n\n        'default': {\n\n            'x': this.size.width / 2,\n            'y': this.size.height / 2,\n            'z': 0,\n            'scale': 1\n        }\n    };\n}\n\nexport {setup};\n","import * as Ease from './ease.js';\n\nfunction Camera(context, width, height) {\n\n    let images = [];\n\n    let shaking = {\n\n        'current': false,\n        'duration': 0,\n        'easing': null,\n        'elapsed': 0,\n        'force': {\n\n            'x': 0,\n            'y': 0\n        },\n        'shift': {\n\n            'x': 0,\n            'y': 0\n        }\n    };\n\n    function add(image) {\n\n        let target = 0;\n\n        for (let iterator = images.length - 1; iterator >= 0; iterator -= 1) {\n\n            const current = images[iterator];\n\n            if (image.destination.z > current.destination.z\n            || image.destination.z === current.destination.z\n            && image.destination.y >= current.destination.y) {\n\n                target = iterator + 1;\n\n                break;\n            }\n        }\n\n        images.splice(target, 0, image);\n    }\n\n    function idle() {\n\n        shaking = {\n\n            'current': false,\n            'duration': 0,\n            'easing': null,\n            'elapsed': 0,\n            'force': {\n\n                'x': 0,\n                'y': 0\n            },\n            'shift': {\n\n                'x': 0,\n                'y': 0\n            }\n        };\n    }\n\n    function render() {\n\n        images.forEach((image) => {\n\n            const {destination, frame, opacity, source} = image;\n\n            if (opacity > 0\n            && this.visible(destination.x, destination.y, destination.width, destination.height) === true) {\n\n                const alpha = context.globalAlpha;\n\n                context.globalAlpha = opacity;\n\n                context.drawImage(\n\n                    source,\n                    frame.x, frame.y, frame.width, frame.height,\n                    destination.x - (this.position.x + shaking.shift.x), destination.y - (this.position.y + shaking.shift.y), destination.width, destination.height\n                );\n\n                context.globalAlpha = alpha;\n            }\n        });\n\n        images = [];\n    }\n\n    function set(x, y) {\n\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    function shake(x, y, duration, easing = Ease.reverse(Ease.easeOut(2))) {\n\n        this.idle();\n\n        shaking.force = {\n\n            'x': x,\n            'y': y\n        };\n\n        shaking.current = true;\n        shaking.duration = duration;\n        shaking.easing = easing;\n    }\n\n    function update(delta) {\n\n        if (shaking.current === false) {\n\n            return;\n        }\n\n        if (shaking.elapsed + delta >= shaking.duration) {\n\n            this.idle();\n\n            return;\n        }\n\n        shaking.elapsed += delta;\n\n        const amplitude = shaking.easing(shaking.elapsed / shaking.duration);\n        const angle = Math.random() * 2 * Math.PI;\n\n        shaking.shift.x = Math.round(Math.cos(angle) * shaking.force.x * amplitude);\n        shaking.shift.y = Math.round(Math.sin(angle) * shaking.force.y * amplitude);\n    }\n\n    function visible(x, y, width, height) {\n\n        const camera = {\n\n            'x': this.position.x + shaking.shift.x,\n            'y': this.position.y + shaking.shift.y,\n            'width': this.size.width,\n            'height': this.size.height\n        };\n\n        if (x + width <= camera.x\n        || x >= camera.x + camera.width\n        || y + height <= camera.y\n        || y >= camera.y + camera.height) {\n\n            return false;\n        }\n\n        return true;\n    }\n\n    this.position = {\n\n        'x': 0,\n        'y': 0\n    };\n\n    this.size = {\n\n        'width': width,\n        'height': height\n    };\n\n    this.add = add;\n    this.idle = idle;\n    this.render = render;\n    this.set = set;\n    this.shake = shake;\n    this.update = update;\n    this.visible = visible;\n}\n\n// exports current module as an object\nexport {Camera};\n","function forces(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const forcesComponent = entity.get('forces');\n        const positionComponent = entity.get('position');\n\n        const trashes = [];\n\n        forcesComponent.parts.forEach((force) => {\n\n            const unlimited = force.ending === false;\n            const remaining = force.duration - force.elapsed;\n            const delta = (unlimited === false && this.delta.update > remaining) ? remaining : this.delta.update;\n\n            const progress = (force.elapsed + delta) / force.duration;\n\n            const moved = {\n\n                'x': force.x * force.easing(progress),\n                'y': force.y * force.easing(progress)\n            };\n\n            positionComponent.x += moved.x - force.moved.x;\n            positionComponent.y += moved.y - force.moved.y;\n            force.moved = moved;\n\n            force.elapsed += this.delta.update;\n\n            if (typeof force.handling === 'function') {\n\n                const remove = () => {\n\n                    trashes.push(force);\n                };\n\n                force.handling(entity, force.moved.x, force.moved.y, force.elapsed, remove);\n            }\n\n            if (force.elapsed >= force.duration\n            && typeof force.ending === 'function'\n            && trashes.indexOf(force) === -1) {\n\n                force.ending(entity, force.moved.x, force.moved.y, force.elapsed);\n                trashes.push(force);\n            }\n        });\n\n        forcesComponent.parts = forcesComponent.parts.filter((force) => {\n\n            return trashes.indexOf(force) === -1;\n        });\n    });\n}\n\nexport {forces};\n","import {forces} from 'systems/common/forces.js';\n\nfunction update() {\n\n    // console.log('update demo scene');\n\n    this.$world.system(['position', 'forces'], forces);\n\n    this.$camera.update(this.delta.update);\n}\n\nexport {update};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKklEQVQImWP8/cns/711Bgzbtl1l2HaJkeHujx8MsvIODDL6uQws8cwMABZTDRH5GFXJAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAACQklEQVR4nO3cP0sCYRzA8Z9hYEu0FRRqLU0SSEMODQ2tEsjRS2gJegFFU72AoKWXECJEa2NDQSFEU0v/UKhNmgIFG+SeLvSO57meu0v7fiftHp7PWflLT0iEiIiIiIiIiIiIiIhGs5TuwoX8ctdk48fnW+298fHxk/G1Fi3kl7unF9dy/PGmhW9Pzsjm+oq1bwI+Pn40flr3JI4/3uR+x1H3W432j+NTc+Pfa4+quttqh4+Pb9/XHgBuW6fTgcdPNt9Nt8THx0/I1x4A6fqsun338DxwzdJivm+trbx7nh88Sc7pf3UTpy8ifefwX/2Xau/taXlvHn/I/DHdhZ1iU1qNtu+TX6Q3GFqNtnSKTe0TCOMPevLjJ+fnnJTknFSijx8/nK89AEymStQT8C/4fk/CuHxba0fBzzkp9VcQP6JXAER/uaCBTP4xAIawl2o30V94/J9+3Odj0zcaAN6PGn6zJmz4vb2Dftj48fve+8PmG38MeL0/0fcZZFg8TPj4+PZ8owFQOKpKuj7re5VRHasbnwc+Pn4CvtEAcK8uBl1ljOIKKD4+fjS+8UXATrHpO4GCjtkKHx/fnm/0CqBTbMplZUNERFZrZ2rauKh7bG33xugk8PHxk/G1B8Dn/atcHVbU/cvKhoJcuFSuqbW2w8fHt+8bvQVwgUG3S+WaZApZyRSyJlsahY+Pb9c3eguQKWSlJDV12/t1tyimHz4+fjS+0QDwbh7lA8XHx4/H51+C4ePjExERERERERERERHRyPUFyufFwDEB8/YAAAAASUVORK5CYII=\"","const datasets = [];\n\nexport {datasets};\n","const images = [\n\n    {\n        'name': 'placeholder',\n        'scope': 'common',\n        'source': require('./common/placeholder-8x1.png'),\n        'type': 'image'\n    },\n    {\n        'name': 'theatre',\n        'scope': 'common',\n        'source': require('./common/theatre-32x32.png'),\n        'type': 'image'\n    }\n];\n\nexport {images};\n","import {datasets} from './datasets/index.js';\nimport {images} from './images/index.js';\nimport {sounds} from './sounds/index.js';\n\nconst assets = [\n\n    ...datasets,\n    ...images,\n    ...sounds\n];\n\nexport {assets};\n","function Canvas(type, identifier, width, height, pixelated = false) {\n\n    const element = document.createElement('canvas');\n    const context = element.getContext(type);\n\n    function resize(width, height) {\n\n        let ratio = window.devicePixelRatio || 1;\n\n        if (pixelated === true) {\n\n            ratio = Math.floor(ratio);\n        }\n\n        element.setAttribute('height', ratio * height);\n        element.setAttribute('width', ratio * width);\n\n        element.style.height = height + 'px';\n        element.style.width = width + 'px';\n\n        context.scale(ratio, ratio);\n\n        if (pixelated === true) {\n\n            sharp();\n        }\n    }\n\n    function sharp() {\n\n        element.style.imageRendering = '-moz-crisp-edges';\n        element.style.imageRendering = '-webkit-crisp-edges';\n        element.style.imageRendering = 'crisp-edges';\n        element.style.imageRendering = 'pixelated';\n        context.imageSmoothingEnabled = false;\n    }\n\n    element.setAttribute('id', identifier);\n\n    resize(width, height);\n\n    this.context = context;\n    this.element = element;\n    this.resize = resize;\n}\n\n// exports current module as an object\nexport {Canvas};\n","import {assets} from 'assets/index.js';\nimport * as scenes from 'scenes/index.js';\n\nimport {Theatre} from 'core/theatre.js';\n\nnew Theatre({\n\n    'assets': assets,\n    'container': document.body,\n    'expose': true,\n    'scenes': scenes,\n    'sharp': true\n});\n","import {Canvas} from 'core/canvas.js';\nimport {Loop} from 'core/loop.js';\n\nimport {preload} from 'core/preload.js';\n\nfunction Theatre(config) {\n\n    const {assets, container, scenes} = config;\n\n    const expose = config.expose || false;\n    const framerate = config.framerate || 60;\n    const sharp = config.sharp || false;\n    const speed = config.speed || 1;\n\n    const size = {\n\n        'height' : container.offsetHeight,\n        'width' : container.offsetWidth\n    };\n\n    let loading = null;\n    let restarting = false;\n\n    function initialize() {\n\n        const canvas = new Canvas('2d', 'theatre', this.size.width, this.size.height, sharp);\n\n        container.appendChild(canvas.element);\n\n        this.container = container;\n        this.context = canvas.context;\n        this.element = canvas.element;\n\n        this.assets = {};\n        this.delta = {};\n        this.delta.render = 0;\n        this.delta.update = 0;\n\n        this.loop = new Loop(framerate, speed);\n\n        this.scene = this.scenes.loading;\n        this.scene.setup.call(this);\n        this.scene.start.call(this);\n\n        this.loop.update((timeframe) => {\n\n            this.delta.update = timeframe;\n\n            if (container.offsetWidth !== this.size.width\n            || container.offsetHeight !== this.size.height) {\n\n                this.size.width = container.offsetWidth;\n                this.size.height = container.offsetHeight;\n\n                canvas.resize(this.size.width, this.size.height);\n\n                this.scene.resize.call(this);\n            }\n\n            this.scene.update.call(this);\n\n            if (restarting === true) {\n\n                this.scene.start.call(this);\n\n                restarting = false;\n\n                return;\n            }\n\n            if (loading !== null) {\n\n                this.scene.destroy.call(this);\n                this.scene = this.scenes[loading];\n                this.scene.setup.call(this);\n                this.scene.start.call(this);\n\n                loading = null;\n\n                return;\n            }\n        });\n\n        this.loop.render((timeframe) => {\n\n            this.delta.render = timeframe;\n\n            this.scene.render.call(this);\n        });\n\n        preload(assets, (assets) => {\n\n            assets.forEach((asset) => {\n\n                if (typeof this.assets[asset.type + 's'] === 'undefined') {\n\n                    this.assets[asset.type + 's'] = {};\n                }\n\n                if (typeof this.assets[asset.type + 's'][asset.scope] === 'undefined') {\n\n                    this.assets[asset.type + 's'][asset.scope] = {};\n                }\n\n                this.assets[asset.type + 's'][asset.scope][asset.name] = asset.getter;\n            });\n\n            this.preloading = false;\n        });\n\n        this.preloading = true;\n    }\n\n    function load(scene) {\n\n        loading = scene;\n    }\n\n    function restart() {\n\n        restarting = true;\n    }\n\n    this.preloading = false;\n    this.scenes = scenes;\n    this.size = size;\n    this.state = {};\n    this.version = '0.36.0';\n\n    this.load = load;\n    this.restart = restart;\n\n    initialize.call(this, config);\n\n    if (expose === true) {\n\n        window.theatre = this;\n    }\n}\n\n// exports current module as an object\nexport {Theatre};\n","function Loop(framerate = 60, speed = 1) {\n\n    let elapsedTime = 0;\n    let lastRender = null;\n    let lastUpdate = null;\n\n    function render(handler) {\n\n        const currentRender = performance.now();\n\n        if (lastRender !== null) {\n\n            handler(currentRender - lastRender);\n        }\n\n        // call user's render handler on each available frame\n        requestAnimationFrame(this.render.bind(this, handler));\n\n        lastRender = currentRender;\n    }\n\n    function update(handler) {\n\n        const currentUpdate = performance.now();\n\n        if (lastUpdate !== null) {\n\n            // define elapsed time since last update\n            elapsedTime += currentUpdate - lastUpdate;\n\n            // call user's update handler matching timeframe, speed and fixing browser time handling\n            while (elapsedTime >= 1000 / this.framerate / this.speed) {\n\n                // define elapsed time since last user's update handler matching timeframe and speed\n                elapsedTime -= 1000 / this.framerate / this.speed;\n\n                handler(1000 / this.framerate);\n            }\n        }\n\n        // call user's update handler on each available frame\n        requestAnimationFrame(this.update.bind(this, handler));\n\n        lastUpdate = currentUpdate;\n    }\n\n    this.framerate = framerate;\n    this.speed = speed;\n\n    this.render = render;\n    this.update = update;\n}\n\n// exports current module as an object\nexport {Loop};\n","function preload(assets, handler) {\n\n    let promises = [];\n\n    // preloads each asset\n    assets.forEach(function (asset) {\n\n        // creates a promise for current asset preloading\n        const promise = new Promise(function (resolve, reject) {\n\n            // if current asset is a dataset then preload it\n            if (asset.type === 'dataset') {\n\n                asset.getter = () => asset.source;\n\n                resolve(asset);\n            }\n\n            // if current asset is an image then preload it\n            if (asset.type === 'image') {\n\n                const image = new Image();\n\n                image.src = asset.source;\n\n                // when current image is loaded then resolve current promise\n                image.onload = function () {\n\n                    asset.getter = () => image;\n\n                    resolve(asset);\n                };\n            }\n\n            // if current asset is a sound then preload it\n            else if (asset.type === 'sound') {\n\n                const sound = new Audio(asset.source);\n\n                // when current sound is loaded then resolve current promise\n                sound.oncanplaythrough = function () {\n\n                    asset.getter = () => sound.cloneNode();\n\n                    resolve(asset);\n                };\n            }\n        });\n\n        promises.push(promise);\n    });\n\n    // call user's success handler when all assets are preloaded\n    Promise.all(promises).then(handler);\n}\n\n// exports current module as a function\nexport {preload};\n"],"sourceRoot":""}