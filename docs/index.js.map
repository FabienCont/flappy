{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./sources/theatre/core/loadRenderers.js","webpack:///./sources/theatre/core/loadSystems.js","webpack:///./sources/theatre/core/loadEntities.js","webpack:///./sources/theatre/modules/world.js","webpack:///./sources/theatre/modules/ease.js","webpack:///./sources/game/models/systems/demo/generateDecor.js","webpack:///./sources/theatre/modules/shape.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./sources/game/scenes/demo/after.js","webpack:///./sources/game/scenes/demo/before.js","webpack:///./sources/game/scenes/demo/destroy.js","webpack:///./sources/game/scenes/demo/render.js","webpack:///./sources/game/models/systems/common/showHitbox.js","webpack:///./sources/game/scenes/demo/resize.js","webpack:///./sources/game/scenes/demo/setup.js","webpack:///./sources/theatre/modules/memory.js","webpack:///./sources/game/scenes/demo/update.js","webpack:///./sources/game/scenes/loading/after.js","webpack:///./sources/game/scenes/loading/before.js","webpack:///./sources/game/scenes/loading/destroy.js","webpack:///./sources/game/scenes/loading/render.js","webpack:///./sources/game/scenes/loading/resize.js","webpack:///./sources/game/scenes/loading/setup.js","webpack:///./sources/game/scenes/loading/start.js","webpack:///./sources/game/scenes/loading/update.js","webpack:///./sources/theatre/modules/camera.js","webpack:///./sources/theatre/modules/keynames.js","webpack:///./sources/theatre/modules/keyboard.js","webpack:///./sources/theatre/modules/mouse.js","webpack:///./sources/theatre/modules/controllers.js","webpack:///./sources/game/scenes/demo/start.js","webpack:///./sources/game/assets lazy ^.\\/.+\\.[a-zA-Z0-9]+$","webpack:///./sources/game/models lazy ^.\\/.+\\.[a-zA-Z0-9]+$","webpack:///./sources/game/scenes sync ^\\.\\/[^\\/]+\\/index\\.js$","webpack:///./sources/game/scenes/demo/index.js","webpack:///./sources/game/scenes/loading/index.js","webpack:///./sources/theatre/core/canvas.js","webpack:///./sources/theatre/core/loop.js","webpack:///./sources/theatre/core/preloadAssets.js","webpack:///./sources/theatre/core/preloadModels.js","webpack:///./sources/theatre/core/preloadScenes.js","webpack:///./sources/index.js","webpack:///./sources/theatre/core/theatre.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","installedModules","0","__webpack_require__","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","s","loadRenderers","sceneRenderers","forEach","renderer","rendererSystem","getSystem","scope","$world","system","components","getRenderers","sceneModel","this","models","scenes","currentScene","renderers","systemName","systemScope","systems","loadSystems","sceneSystems","updateSystem","getSystems","systemModule","cloneProto","Array","isArray","a","fn","keys","a2","k","cur","cloneArray","o2","loadRef","ref","split","path","createNewParamsFromModel","paramsModel","params","newParams","keysParamsModel","keyModel","modelNewParam","valueParam","_default","defaultValue","JSON","parse","stringify","_type","startsWith","arraySubType","match","arrayObject","array","modelNewParamKeys","filter","modelNewParamKey","valueParamOfKey","newParamObject","convertArrayToObject","reduce","obj","item","getEntitiesScene","entities","setCachedEntity","entityRef","entityGenerated","cachedEntities","generateEntities","sceneEntities","newEntity","entityDef","getEntityDefinition","componentsOverride","newEntityComponents","mergeDeep","isObject","objects","prev","pVal","oVal","concat","generateEntityModel","values","Entity","entityModelOverride","loadedEntity","component","newComponent","createComponentFromModel","componentRef","componentModel","getComponentModel","loadEntities","add","has","iterator","search","replace","exclude","remove","World","context","entity","handler","chosen","entries","easeIn","power","x","easeOut","linear","factor","easeInQuad","easeOutQuad","reverse","generateDecor","birdPosition","character","maxPosBeyondBird","minPosition","entitiesName","$infos","started","decorEntities","demo","width","entityName","isOut","entityId","maxPosition","maxId","parseInt","maxPosPipe","randomHeightDico","entityInfo","model","Math","random","randomizePipeInfo","height","pipeName","frameY","newParts","isLast","yDestOffset","frameEndY","direction","pipeHeight","hitbox","heightSprite","y","heightShadow","yDest","parts","Point","Rectangle","originalModule","webpackPolyfill","children","after","$controllers","inputs","before","destroy","log","$camera","$origins","$systems","$renderers","render","fillStyle","fillRect","size","$cameraInfo","showHitbox","cameraComponent","hitboxComponent","originComponent","positionComponent","camera","reference","screen","scale","position","shaking","save","lineWidth","strokeStyle","strokeRect","restore","resize","setup","localStorage","getItem","set","setItem","update","delta","state","redirect","font","textAlign","textBaseline","fillText","preloading","start","load","Camera","images","image","current","destination","z","splice","idle","look","frame","opacity","source","visible","alpha","globalAlpha","canvas","offset","min","max","drawImage","left","top","right","abs","bottom","shake","duration","easing","Ease","force","elapsed","amplitude","angle","PI","round","cos","sin","keynames","Keyboard","container","actions","states","blur","keydown","action","keyCode","indexOf","preventDefault","keyup","addEventListener","removeEventListener","Mouse","contextmenu","mousedown","button","buttons","rectangle","getBoundingClientRect","clientX","clientY","mouseenter","mouseleave","mousemove","mouseup","wheel","deltaY","deltaX","Controllers","controllers","controller","element","bestScoreSaved","memory","bestScore","map","webpackAsyncContext","req","then","code","ids","id","webpackContext","webpackContextResolve","hot","accept","Canvas","identifier","pixelated","getContext","focus","ratio","devicePixelRatio","floor","style","sharp","imageRendering","imageSmoothingEnabled","Loop","framerate","speed","elapsedTime","lastUpdate","paused","currentUpdate","performance","now","requestAnimationFrame","pause","play","tick","times","preloadAssets","require","promiseArray","assetsLoaded","assetLoaded","find","asset","index","substring","Image","sound","Audio","oncanplaythrough","cloneNode","loadAsset","assets","preloadModels","modelsLoaded","componentLoaded","loadModel","default","preloadScenes","config","expose","offsetHeight","offsetWidth","loading","restarting","updates","forward","timeframe","playing","scene","$","snippets","version","restart","loop","promisePreloadAssets","promisePreloadModels","theatre","body","querySelector"],"mappings":"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D,kCAAmC,CAClC,GACA,IAED,kCAAmC,CAClC,GACA,IAED,kCAAmC,CAClC,GACA,IAED,oCAAqC,CACpC,GACA,IAED,mCAAoC,CACnC,GACA,IAED,+BAAgC,CAC/B,GACA,IAED,gCAAiC,CAChC,GACA,IAED,+BAAgC,CAC/B,GACA,IAED,kCAAmC,CAClC,GACA,IAED,iCAAkC,CACjC,GACA,IAED,uCAAwC,CACvC,GACA,IAED,8BAA+B,CAC9B,GACA,IAED,iCAAkC,CACjC,GACA,IAED,kCAAmC,CAClC,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,kCAAmC,CAClC,GACA,IAED,+BAAgC,CAC/B,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,iCAAkC,CACjC,GACA,IAED,2BAA4B,CAC3B,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,8BAA+B,CAC9B,GACA,IAED,4BAA6B,CAC5B,GACA,IAED,+BAAgC,CAC/B,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,6BAA8B,CAC7B,GACA,GAED,iCAAkC,CACjC,GACA,GAED,8BAA+B,CAC9B,GACA,GAED,iCAAkC,CACjC,GACA,GAED,iCAAkC,CACjC,GACA,GAED,mCAAoC,CACnC,GACA,GAED,qCAAsC,CACrC,GACA,GAED,yCAA0C,CACzC,GACA,GAED,mCAAoC,CACnC,GACA,GAED,oCAAqC,CACpC,GACA,IAED,2BAA4B,CAC3B,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,6BAA8B,CAC7B,IACA,IAED,6BAA8B,CAC7B,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,+BAAgC,CAC/B,GACA,IAED,iCAAkC,CACjC,IAED,mCAAoC,CACnC,GACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,kCAAmC,CAClC,GAED,gCAAiC,CAChC,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIzW,EAAoB6C,EAAE0T,EAAKE,GAC9B,OAAOjW,QAAQC,UAAUiW,MAAK,WAC7B,IAAItW,EAAI,IAAImB,MAAM,uBAAyBkV,EAAM,KAEjD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","file":"index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + chunkId + \".index.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n","const loadRenderers=function(sceneRenderers){\r\n  if(sceneRenderers){\r\n      sceneRenderers.forEach((renderer) => {\r\n      var rendererSystem=getSystem.call(this,renderer.name,renderer.scope);\r\n      this.$world.system(renderer.components, rendererSystem);\r\n    });\r\n  }\r\n}\r\n\r\nconst getRenderers=function(){\r\n  try{\r\n    let sceneModel=this.models.scenes[this.currentScene];\r\n    if(sceneModel!==undefined && sceneModel.renderers!=undefined && sceneModel.renderers() ){\r\n      return sceneModel.renderers();\r\n    }else return[];\r\n  }catch(err){\r\n    console.error(\"no renderers found for this scene :\"+this.currentScene);\r\n  }\r\n}\r\n\r\nconst getSystem=function(systemName,systemScope){\r\n  try{\r\n    if(typeof systemName!==\"string\"|| systemName===\"\"){\r\n      throw \"no system name defined\"\r\n    }\r\n    return this.models.systems[systemScope][systemName]()[systemName];\r\n    //return require('components/common/'+componentRef.name+'.json');\r\n  }catch(err){\r\n    throw \"no system found with name :\"+systemName;\r\n  }\r\n}\r\n\r\nexport {loadRenderers,getRenderers};\r\n","const loadSystems=function(sceneSystems){\r\n  sceneSystems.forEach((system) => {\r\n    var updateSystem=getSystem.call(this,system.name,system.scope);\r\n    this.$world.system(system.components, updateSystem);\r\n  });\r\n}\r\n\r\nconst getSystems=function(){\r\n  try{\r\n    let sceneModel=this.models.scenes[this.currentScene];\r\n    if(sceneModel!==undefined && sceneModel.systems!=undefined && sceneModel.systems() ){\r\n      return sceneModel.systems();\r\n    }else return[];\r\n  }catch(err){\r\n    console.error(\"no systems found for this scene :\"+this.currentScene)\r\n  }\r\n}\r\nconst getSystem=function(systemName,systemScope){\r\n  try{\r\n    if(typeof systemName!==\"string\"|| systemName===\"\"){\r\n      throw \"no system name defined\"\r\n    }\r\n    var systemModule=this.models.systems[systemScope][systemName]();\r\n    if(systemModule[systemName]){\r\n      return systemModule[systemName];\r\n    }else throw \"system don't export good systemName\";\r\n    //return require('components/common/'+componentRef.name+'.json');\r\n  }catch(err){\r\n    throw \"no system found with name :\"+systemName;\r\n  }\r\n}\r\n\r\nexport {loadSystems,getSystems};\r\n","import {Entity} from 'modules/world.js';\r\n\r\n\r\nconst cloneArray = function (a, fn) {\r\n  var keys = Object.keys(a)\r\n  var a2 = new Array(keys.length)\r\n  for (var i = 0; i < keys.length; i++) {\r\n    var k = keys[i]\r\n    var cur = a[k]\r\n    if (typeof cur !== 'object' || cur === null) {\r\n      a2[k] = cur\r\n    } else {\r\n      a2[k] = fn(cur)\r\n    }\r\n  }\r\n  return a2\r\n};\r\n\r\nconst cloneProto=function (o) {\r\n  if (typeof o !== 'object' || o === null) return o;\r\n  if (Array.isArray(o)) return cloneArray(o, cloneProto)\r\n  var o2 = {}\r\n  for (var k in o) {\r\n    var cur = o[k]\r\n    if (typeof cur !== 'object' || cur === null) {\r\n      o2[k] = cur\r\n    } else {\r\n      o2[k] = cloneProto(cur)\r\n    }\r\n  }\r\n  return o2\r\n}\r\n\r\nconst loadRef=function(value){\r\n  try{\r\n    var ref=\"\";\r\n    value.split(\".\").forEach((path,i) => {\r\n      if(i==0){\r\n        ref=this[path]\r\n      }else{\r\n        ref=ref[path];\r\n      }\r\n    });\r\n    return ref\r\n  }catch(err){\r\n    throw err;\r\n  }\r\n}\r\n\r\nconst createNewParamsFromModel=function(paramsModel,params,deep=0){\r\n  try{\r\n    var newParams={};\r\n    var keysParamsModel=Object.keys(paramsModel);\r\n    for (var i = 0; i < keysParamsModel.length; i++) {\r\n      var keyModel=keysParamsModel[i];\r\n      var modelNewParam=paramsModel[keyModel];\r\n      var valueParam=params[keyModel];\r\n\r\n      if(valueParam==undefined){\r\n        if(modelNewParam._default==undefined){\r\n          throw \"error missing parameter :\"+keyModel;\r\n        }else{\r\n          var defaultValue=JSON.parse(JSON.stringify(modelNewParam._default));\r\n          if(modelNewParam._type===\"ref\"){\r\n            defaultValue=loadRef.call(this,defaultValue);\r\n          }\r\n          newParams[keyModel]=defaultValue;\r\n        }\r\n      }else {\r\n        if(modelNewParam._type.startsWith(\"array\") && Array.isArray(valueParam)){\r\n          newParams[keyModel]=[]\r\n          var arraySubType=modelNewParam._type.match(\"array<(.*)>\")[1];\r\n          if(arraySubType===\"array\"){\r\n              for (var c = 0; c < valueParam.length; c++) {\r\n                var arrayObject=createNewParamsFromModel.call(this,{array:modelNewParam[\"_\"+arraySubType]},{array:valueParam[c]});\r\n                newParams[keyModel].push(arrayObject[\"array\"]);\r\n              }\r\n          }else if(arraySubType===\"object\"){\r\n            for (var c = 0; c < valueParam.length; c++) {\r\n              newParams[keyModel].push(createNewParamsFromModel.call(this,modelNewParam[\"_\"+arraySubType],valueParam[c]));\r\n            }\r\n          }else if(arraySubType===\"string\"||arraySubType===\"number\"||arraySubType===\"boolean\"){\r\n            for (var c = 0; c < valueParam.length; c++) {\r\n              if(arraySubType!=typeof valueParam[c]){\r\n                throw \"wrong subType\"+arraySubType+\"in array model for param :\"+keyModel;\r\n              }\r\n              newParams[keyModel].push(valueParam[c]);\r\n            }\r\n          }else {\r\n            throw \"missing/wrong subType\"+arraySubType+\"in array model for param :\"+keyModel;\r\n          }\r\n        }else if(modelNewParam._type===\"object\" && typeof valueParam ===\"object\" && !Array.isArray(valueParam)){\r\n          newParams[keyModel]={}\r\n          var modelNewParamKeys= Object.keys(modelNewParam).filter(key=>!key.startsWith('_'));\r\n          for (var c = 0; c < modelNewParamKeys.length; c++) {\r\n            var modelNewParamKey=modelNewParamKeys[c]\r\n            var valueParamOfKey=valueParam[modelNewParamKey]?valueParam[modelNewParamKey]:{};\r\n            var newParamObject=createNewParamsFromModel.call(this,{[modelNewParamKey]:modelNewParam[modelNewParamKey]},{[modelNewParamKey]:valueParamOfKey});\r\n            newParams[keyModel][modelNewParamKey]=newParamObject[modelNewParamKey];\r\n          }\r\n        }else if(modelNewParam._type===typeof valueParam){\r\n          newParams[keyModel]=valueParam;\r\n        }else if(modelNewParam._type===\"ref\" && typeof valueParam ===\"string\" ){\r\n          newParams[keyModel]=loadRef.call(this,valueParam);\r\n        }else{\r\n          throw \"error wrong type parameters for \"+keyModel+\": waiting \"+modelNewParam._type+\" and get \"+typeof valueParam;\r\n        }\r\n      }\r\n    }\r\n    return newParams;\r\n  }catch(err){\r\n    throw err;\r\n  }\r\n};\r\n\r\nconst mergeDeep=(...objects)=> {\r\n  const isObject = obj => obj && typeof obj === 'object';\r\n\r\n  return objects.reduce((prev, obj) => {\r\n    Object.keys(obj).forEach(key => {\r\n      const pVal = prev[key];\r\n      const oVal = obj[key];\r\n\r\n      if (Array.isArray(pVal) && Array.isArray(oVal)) {\r\n        prev[key] = pVal.concat(...oVal);\r\n        //prev[key] = pVal;\r\n      }\r\n      else if (isObject(pVal) && isObject(oVal)) {\r\n        prev[key] = mergeDeep(pVal, oVal);\r\n      }\r\n      else {\r\n        prev[key] = oVal;\r\n      }\r\n    });\r\n\r\n    return prev;\r\n  }, {});\r\n}\r\n\r\n\r\nconst convertArrayToObject = (array, key) => {\r\n  const initialValue = {};\r\n  return array.reduce((obj, item) => {\r\n    return {\r\n      ...obj,\r\n      [item[key]]: item,\r\n    };\r\n  }, initialValue);\r\n};\r\n\r\nconst getEntitiesScene=function(){\r\n  try{\r\n    let currentScene=this.models.scenes[this.currentScene];\r\n    if(currentScene && currentScene.entities){\r\n      return currentScene.entities();\r\n    }\r\n  }catch(err){\r\n    console.error(\"no entities found for this scene :\"+this.currentScene)\r\n  }\r\n}\r\n\r\nconst getCachedEntity=function(entityRef){\r\n  let cacheScope=this.cachedEntities[entityRef.scope];\r\n  return cacheScope?(cacheScope[entityRef.name]?cloneProto(cacheScope[entityRef.name]):null):null;\r\n}\r\n\r\nconst setCachedEntity=function(entityRef,entityGenerated){\r\n  if(!this.cachedEntities[entityRef.scope]){\r\n      this.cachedEntities[entityRef.scope]={};\r\n    }\r\n    this.cachedEntities[entityRef.scope][entityRef.name]=cloneProto(entityGenerated);\r\n}\r\n\r\nconst generateEntities=function(sceneEntities){\r\n  try{\r\n    var entities=[];\r\n    sceneEntities.forEach((entityRef) => {\r\n      //let newEntity=getCachedEntity.call(this,entityRef);\r\n      let newEntity=null;\r\n      if(!newEntity){\r\n        var entityDef=getEntityDefinition.call(this,entityRef);\r\n        var componentsOverride=convertArrayToObject(entityRef.components,'name');\r\n        var componentsModel=convertArrayToObject(entityDef.components,'name');\r\n        var newEntityComponents=mergeDeep(componentsModel,componentsOverride);\r\n        newEntity=generateEntityModel.call(this,{name:entityDef.name,components:Object.values(newEntityComponents)});\r\n        newEntity=new Entity(newEntity.name,newEntity.components);\r\n        setCachedEntity.call(this,entityRef,newEntity);\r\n      }\r\n      entities.push(newEntity);\r\n    });\r\n    return entities;\r\n  }catch(err){\r\n    console.error(err);\r\n  }\r\n}\r\n\r\n\r\nconst generateEntityModel=function(entityModelOverride){\r\n  try{\r\n    var loadedEntity={name:entityModelOverride.name,components:[]};\r\n    entityModelOverride.components.forEach((component) => {\r\n      var newComponent=createComponentFromModel.call(this,component);\r\n      loadedEntity.components.push(newComponent);\r\n    });\r\n    return loadedEntity;\r\n  }catch(err){\r\n    throw err;\r\n  }\r\n}\r\n\r\nconst createComponentFromModel=function(componentRef){\r\n  try{\r\n    var componentModel=getComponentModel.call(this,componentRef);\r\n    var params=componentRef.params?componentRef.params:{};\r\n    var newComponent=createNewParamsFromModel.call(this,componentModel.params,params);\r\n    newComponent.name=componentModel.name;\r\n    return newComponent;\r\n  }catch(err){\r\n    throw err;\r\n  }\r\n}\r\n\r\nconst getEntityDefinition=function(entityRef){\r\n  try{\r\n    if(typeof entityRef.name!==\"string\"|| entityRef.name===\"\"||typeof entityRef.scope!==\"string\" ||entityRef.scope===\"\" ){\r\n      throw \"no entity name defined\"\r\n    }\r\n    return this.models.entities[entityRef.scope][entityRef.name]();\r\n  }catch(err){\r\n    throw \"no entity found with name :\"+entityRef.name+\" and scope :\"+entityRef.scope;\r\n  }\r\n}\r\n\r\nconst getComponentModel=function(componentRef){\r\n  try{\r\n    if(typeof componentRef.name!==\"string\"|| componentRef.name===\"\"||typeof componentRef.scope!==\"string\" ||componentRef.scope===\"\"){\r\n      throw \"no component name defined\"\r\n    }\r\n    return this.models.components[componentRef.scope][componentRef.name]();\r\n  }catch(err){\r\n    throw \"no component found with name :\"+componentRef.name+\" and scope :\"+componentRef.scope;\r\n  }\r\n}\r\n\r\nconst loadEntities=function(){\r\n  var sceneEntities=getEntitiesScene.call(this);\r\n  return generateEntities.call(this,sceneEntities);\r\n}\r\n\r\nexport {loadEntities,generateEntities,createComponentFromModel};\r\n","function Entity(name, components) {\n\n    function add(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        components.forEach((component) => {\n\n            this.components[component.name] = component;\n        });\n    }\n\n    function get(component) {\n\n        return this.components[component];\n    }\n\n    function has(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const search = components[iterator];\n            const component = search.replace('not:', '');\n            const exclude = search !== component;\n\n            if (this.components.hasOwnProperty(component) === exclude) {\n\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function remove(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const component = components[iterator];\n\n            if (this.components.hasOwnProperty(component) === true) {\n\n                delete this.components[component];\n            }\n        }\n    }\n\n    this.components = {};\n    this.name = name;\n\n    this.add = add;\n    this.get = get;\n    this.has = has;\n    this.remove = remove;\n\n    this.add(components);\n}\n\nfunction World(context) {\n\n    function add(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        entities.forEach((entity) => {\n\n            this.entities[entity.name] = entity;\n        });\n    }\n\n    function get(entity) {\n\n        return this.entities[entity];\n    }\n\n    function remove(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        for (let iterator = 0, length = entities.length; iterator < length; iterator += 1) {\n\n            const entity = entities[iterator];\n            const key = entity.name || entity;\n\n            if (this.entities.hasOwnProperty(key) === true) {\n\n                delete this.entities[key];\n            }\n        }\n    }\n\n    function system(components, handler, entities = this.entities) {\n\n        const chosen = {};\n\n        Object.entries(entities).forEach(([name, entity]) => {\n\n            if (entity.has(components) === true) {\n\n                chosen[name] = entity;\n            }\n        });\n\n        handler.call(context, chosen);\n    }\n\n    this.entities = {};\n\n    this.add = add;\n    this.get = get;\n    this.remove = remove;\n    this.system = system;\n}\n\nexport {\n\n    // exports current module as an object\n    World,\n\n    // exports helpers for current module\n    Entity\n};\n","function easeIn(power) {\n\n    // accelerating from zero velocity\n    return (x) => x ** power;\n}\n\nfunction easeInOut(power) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return (x) => {\n\n        if (x < 0.5) {\n\n            return easeIn(power)(2 * x) / 2\n        }\n\n        return 1 - easeInOut(power)(1 - x)\n    }\n}\n\nfunction easeOut(power) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return (x) => 1 - easeIn(power)(1 - x);\n}\n\nfunction linear(factor) {\n\n    // linear progression\n    return (x) => x * factor;\n}\n\nfunction easeInQuad(x) {\n\n    // accelerating from zero velocity\n    return easeIn(2)(x);\n}\n\nfunction easeInCubic(x) {\n\n    // accelerating from zero velocity\n    return easeIn(3)(x);\n}\n\nfunction easeInQuart(x) {\n\n    // accelerating from zero velocity\n    return easeIn(4)(x);\n}\n\nfunction easeInOutQuad(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(2)(x);\n}\n\nfunction easeInOutCubic(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(3)(x);\n}\n\nfunction easeInOutQuart(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(4)(x);\n}\n\nfunction easeOutQuad(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(2)(x);\n}\n\nfunction easeOutCubic(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(3)(x);\n}\n\nfunction easeOutQuart(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(4)(x);\n}\n\nfunction reverse(handler) {\n\n    // reversing easing function\n    return (x) => handler(1 - x);\n}\n\n// exports current module as functions\nexport {\n\n    // export ease function creators\n    easeIn, easeInOut, easeOut, linear,\n\n    // export ease-in functions\n    easeInCubic, easeInQuad, easeInQuart,\n\n    // export ease-in-out functions\n    easeInOutCubic, easeInOutQuad, easeInOutQuart,\n\n    // export ease-out functions\n    easeOutCubic, easeOutQuad, easeOutQuart,\n\n    // export utility functions\n    reverse\n};\n","import {generateEntities} from 'core/loadEntities.js';\r\n\r\nfunction generateDecor(entities) {\r\n\r\n    let birdPosition=this.$world.entities.character.get('position').x;\r\n    let maxPosBeyondBird=birdPosition+128;\r\n    let minPosition=birdPosition-32;\r\n    let entitiesName=[\"top\",\"bottom\",\"background\",\"water\",\"pipeTop\",\"pipeBottom\",\"cloud\"];\r\n\r\n    if(this.$infos.started){\r\n      entitiesName.push(\"checkpoint\")\r\n    }\r\n\r\n    let decorEntities={};\r\n    for (var i = 0; i < entitiesName.length; i++) {\r\n      let name=entitiesName[i];\r\n      decorEntities[name]={'model':this.models.entities.demo[name],'width':64,'maxPosition':minPosition,'maxId':0,'entities':[]}\r\n    }\r\n\r\n    decorEntities[\"cloud\"].width=160;\r\n\r\n    Object.entries(entities).filter(([name,entity])=>{\r\n\r\n      let entityName=name.match(/^([a-zA-Z]+)/)[1];\r\n      let isOut=(entity.get('position').x+decorEntities[entityName].width)<minPosition;\r\n      if(isOut){\r\n        this.$world.remove(entity);\r\n      }else{\r\n        let entityId=name.match(/^[a-zA-Z]+([0-9]+)/)[1];\r\n        decorEntities[entityName].entities.push(entity);\r\n        if(decorEntities[entityName].maxPosition<(entity.get('position').x+decorEntities[entityName].width)){\r\n            decorEntities[entityName].maxPosition=entity.get('position').x+decorEntities[entityName].width;\r\n            decorEntities[entityName].maxId=parseInt(entityId)+1;\r\n        }\r\n      }\r\n      return !isOut;\r\n    });\r\n\r\n\r\n    if(this.$infos.started && decorEntities['checkpoint'].entities.length===0){\r\n      let maxPosPipe=decorEntities['pipeTop'].maxPosition;\r\n      decorEntities['checkpoint'].maxPosition=maxPosPipe;\r\n    }\r\n\r\n    var randomHeightDico={}\r\n    Object.entries(decorEntities).forEach(([name,entityInfo])=>{\r\n      while(maxPosBeyondBird>entityInfo.maxPosition){\r\n          let newEntities=generateEntities.call(this,[entityInfo.model()]);\r\n          let newEntity=newEntities[0]\r\n          if(this.$infos.started && (name===\"pipeTop\"|| name===\"pipeBottom\")){\r\n            if(!randomHeightDico[entityInfo.maxId]){\r\n              randomHeightDico[entityInfo.maxId]=Math.random() * (55-12)+12;\r\n            }\r\n            newEntity=randomizePipeInfo(newEntity,randomHeightDico[entityInfo.maxId],name);\r\n          }\r\n\r\n          newEntity.name=newEntity.name+entityInfo.maxId;\r\n          newEntity.get('position').x=entityInfo.maxPosition;\r\n          this.$world.add(newEntity);\r\n\r\n          entityInfo.maxPosition=entityInfo.maxPosition+entityInfo.width;\r\n          entityInfo.maxId=entityInfo.maxId+1;\r\n      }\r\n    });\r\n}\r\n\r\n\r\nconst randomizePipeInfo=function(newEntity,height,pipeName){\r\n\r\n  let spaceHeight=20;\r\n  let frameY=1;\r\n  let newParts=[];\r\n  let isLast=0;\r\n\r\n  let yDestOffset=0;\r\n  let frameEndY=0\r\n  let direction=-1;\r\n  let pipeHeight=96-(height+spaceHeight);\r\n  let hitbox=newEntity.get('hitbox');\r\n  let heightSprite=0;\r\n\r\n  if(pipeName==='pipeTop'){\r\n    yDestOffset=-4;\r\n    frameEndY=2;\r\n    direction=1;\r\n    pipeHeight=height;\r\n  }else {\r\n    hitbox.y=-pipeHeight+16;\r\n\r\n    let maxHeightShadow=16;\r\n    let minHeightShadow=2;\r\n    let heightPercent=1-((height-12)/43);\r\n    let heightShadow=heightPercent*((maxHeightShadow-minHeightShadow)+minHeightShadow);\r\n\r\n    if(heightShadow<=4){\r\n\r\n        newParts.push({\r\n          \"source\": {\r\n            \"scope\":\"demo\",\r\n            \"file\":\"pipe-shadow-16x8@1x\"\r\n          },\r\n          \"frames\": [\r\n              [0, 1, 16, 16]\r\n          ],\r\n          \"frame\": 0,\r\n          \"opacity\":1,\r\n          \"elapsed\":0,\r\n          \"framerate\":8,\r\n          \"destination\": [0, 14+heightShadow, 0, 16, 16]\r\n        })\r\n\r\n    }else{\r\n\r\n        newParts.push({\r\n          \"source\": {\r\n            \"scope\":\"demo\",\r\n            \"file\":\"pipe-shadow-16x8@1x\"\r\n          },\r\n          \"frames\": [\r\n              [0, 0, 16, 16]\r\n          ],\r\n          \"frame\": 0,\r\n          \"opacity\":1,\r\n          \"elapsed\":0,\r\n          \"framerate\":8,\r\n          \"destination\": [0, -2+heightShadow, 0, 16, 16]\r\n        });\r\n\r\n        newParts.push({\r\n          \"source\": {\r\n            \"scope\":\"demo\",\r\n            \"file\":\"pipe-shadow-16x8@1x\"\r\n          },\r\n          \"frames\": [\r\n              [0, 1, 16, 16]\r\n          ],\r\n          \"frame\": 0,\r\n          \"opacity\":1,\r\n          \"elapsed\":0,\r\n          \"framerate\":8,\r\n          \"destination\": [0, 10+heightShadow, 0, 16, 16]\r\n        })\r\n      }\r\n  }\r\n\r\n  hitbox.height=pipeHeight+yDestOffset;\r\n\r\n  let parts=newEntity.get('images');\r\n  while(heightSprite<pipeHeight){\r\n\r\n    let yDest=(heightSprite*direction)+yDestOffset;\r\n\r\n    if(pipeHeight-heightSprite<=16){\r\n      yDest=yDest-((16-(pipeHeight-heightSprite))*direction);\r\n      frameY=frameEndY;\r\n      isLast=1;\r\n    }\r\n    newParts.push({\r\n      \"source\": {\r\n        \"scope\":\"demo\",\r\n        \"file\":\"pipe-16x16@1x\"\r\n      },\r\n      \"frames\": [\r\n          [0, frameY, 16, 16]\r\n      ],\r\n      \"frame\": 0,\r\n      \"opacity\":1,\r\n      \"elapsed\":0,\r\n      \"framerate\":8,\r\n      \"destination\": [0, yDest, isLast, 16, 16]\r\n    })\r\n    heightSprite=heightSprite+16;\r\n  }\r\n\r\n  newEntity.get('images').parts=newParts;\r\n\r\n  return newEntity;\r\n\r\n}\r\n\r\nexport {generateDecor};\r\n","function Circle(x, y, radius) {\n\n    this.radius = radius;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Point(x, y) {\n\n    this.x = x;\n    this.y = y;\n}\n\nfunction Rectangle(x, y, width, height) {\n\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Segment(xa, ya, xb, yb) {\n\n    this.xa = xa;\n    this.xb = xb;\n    this.ya = ya;\n    this.yb = yb;\n}\n\n// exports current module as objects\nexport {Circle, Point, Rectangle, Segment};\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","//import {debug} from 'systems/common/debug.js';\r\n\r\nfunction after() {\r\n\r\n    // console.log('lifecycle :', 'after demo scene');\r\n\r\n    /*this.$.world.system('debug', [], debug);\r\n\r\n    this.$.controllers.inputs.length = 0;*/\r\n  this.$controllers.inputs.length = 0;\r\n\r\n}\r\n\r\nexport {after};\r\n","function before() {\r\n\r\n}\r\n\r\nexport {before};\r\n","function destroy() {\n\n    console.log('destroy demo scene');\n    console.log('-------');\n\n    this.$controllers.destroy();\n\n    delete this.$camera;\n    delete this.$controllers;\n    delete this.$origins;\n    delete this.$world.entities;\n    delete this.$world;\n    delete this.$systems;\n    delete this.$renderers;\n}\n\nexport {destroy};\n","//import {fade} from 'systems/common/fade.js';\nimport {loadRenderers} from 'core/loadRenderers';\nimport {showHitbox} from 'systems/common/showHitbox';\nfunction render() {\n    // console.log('render demo scene');\n\n    this.context.fillStyle = '#000000';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    loadRenderers.call(this,this.$renderers);\n\n    this.$camera.render();\n    this.$cameraInfo.render();\n   //this.$world.system([\"camera\", \"hitbox\", \"origin\", \"position\"], showHitbox);\n\n}\n\nexport {render};\n","import {Rectangle} from 'modules/shape.js';\r\n\r\nfunction showHitbox(entities) {\r\n\r\n  Object.entries(entities).forEach(([name, entity]) => {\r\n\r\n    const cameraComponent = entity.get('camera');\r\n    const hitboxComponent = entity.get('hitbox');\r\n    const originComponent = entity.get('origin');\r\n    const positionComponent = entity.get('position');\r\n\r\n    const $camera = cameraComponent.camera;\r\n    const $origin = originComponent.reference\r\n\r\n    const hitbox = new Rectangle(\r\n\r\n        $camera.screen.x() + (positionComponent.x + hitboxComponent.x) * $camera.screen.scale() - ($camera.position.x() * $camera.screen.scale() - $camera.screen.width() / 2 + $camera.shaking.shift.x * $camera.screen.scale()),\r\n        $camera.screen.y() + (positionComponent.y + hitboxComponent.y) * $camera.screen.scale() - ($camera.position.y() * $camera.screen.scale() - $camera.screen.height() / 2 + $camera.shaking.shift.y * $camera.screen.scale()),\r\n        hitboxComponent.width * $camera.screen.scale(),\r\n        hitboxComponent.height * $camera.screen.scale()\r\n    );\r\n\r\n    const width = 2;\r\n    const offset = width / 2;\r\n\r\n    this.context.save();\r\n\r\n    this.context.lineWidth = width;\r\n\r\n    this.context.strokeStyle = '#639bff';\r\n\r\n    this.context.strokeRect(hitbox.x + offset, hitbox.y + offset, hitbox.width - width, hitbox.height - width);\r\n\r\n    this.context.restore();\r\n  });\r\n};\r\n\r\nexport {showHitbox};\r\n","function resize() {\n\n    console.log('resize demo scene');\n\n    /*this.$camera.screen.height = ()=>{this.size.height};\n    this.$camera.screen.width = ()=>{ this.size.width};*/\n\n    //this.$origins.default.x = this.size.width / 2;\n    //this.$origins.default.y = this.size.height / 2;\n    // this.$origins.default.z = 0;\n    // this.$origins.default.scale = 1;\n}\n\nexport {resize};\n","function setup() {\n\n    console.log('setup demo scene');\n\n\n}\n\nexport {setup};\n","function get(name) {\r\n\r\n    const value = window.localStorage.getItem(name);\r\n\r\n    return value ? JSON.parse(value) : value;\r\n}\r\n\r\nfunction remove(name) {\r\n\r\n    window.localStorage.removeItem(name);\r\n}\r\n\r\nfunction set(name, value) {\r\n\r\n    window.localStorage.setItem(name, JSON.stringify(value));\r\n}\r\n\r\n// exports current module as functions\r\nexport {get, remove, set};\r\n","import {loadSystems} from \"core/loadSystems\";\n\nfunction update() {\n\n    loadSystems.call(this,this.$systems);\n    this.$camera.update(this.delta.update);\n}\n\nexport {update};\n","function after() {\r\n\r\n}\r\n\r\nexport {after};\r\n","//import {inputs} from 'systems/common/inputs.js';\r\n\r\nfunction before() {\r\n\r\n    // console.log('lifecycle :', 'before demo scene');\r\n/*\r\n    this.$.controllers.inputs.forEach((input) => {\r\n\r\n        // console.log('debugging :', input);\r\n    });\r\n\r\n    this.$.world.system('inputs', ['inputs'], inputs);*/\r\n}\r\n\r\nexport {before};\r\n","function destroy() {\n\n    console.log('destroy loading scene');\n    console.log('-------');\n\n    delete this.state.redirect;\n    delete this.$systems;\n    delete this.$renderers;\n}\n\nexport {destroy};\n","import {loadRenderers} from 'core/loadRenderers';\n\nfunction render() {\n\n    // console.log('render loading scene');\n\n    loadRenderers.call(this,this.$renderers);\n\n    this.context.fillStyle = '#181a1f';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.context.font = '16px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n    this.context.fillStyle = '#6b717d';\n    this.context.fillText('/ Theatre', 8, 8);\n    this.context.fillStyle = '#d7dae0';\n\n    this.context.fillText('$ preloading assets...', 8, 32);\n\n    if (this.preloading === false) {\n\n        this.context.fillText('$ preloading completed', 8, 32 + 24);\n        this.context.fillText('$ loading demo scene...', 8, 32 + 24 + 24);\n    }\n}\n\nexport {render};\n","function resize() {\n\n    console.log('resize loading scene');\n}\n\nexport {resize};\n","import {getRenderers} from 'core/loadRenderers';\nimport {getSystems} from 'core/loadSystems';\n\nfunction setup() {\n\n    console.log('setup loading scene');\n    this.$renderers=getRenderers.call(this);\n    this.$systems=getSystems.call(this);\n}\n\nexport {setup};\n","function start() {\n\n    console.log('start loading scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","function update() {\n\n    // console.log('update loading scene');\n\n    if (this.preloading === false && this.state.redirect === false) {\n\n        setTimeout(() => {\n\n            this.load('demo');\n\n        }, 100);\n\n        this.state.redirect = true;\n    }\n}\n\nexport {update};\n","import * as Ease from './ease.js';\n\nfunction Camera(context, name, screen) {\n\n    let images = [];\n\n    let shaking = {\n\n        'current': false,\n        'duration': 0,\n        'easing': null,\n        'elapsed': 0,\n        'force': {\n\n            'x': 0,\n            'y': 0\n        },\n        'shift': {\n\n            'x': 0,\n            'y': 0\n        }\n    };\n\n    function add(image) {\n\n        let target = 0;\n\n        for (let iterator = images.length - 1; iterator >= 0; iterator -= 1) {\n\n            const current = images[iterator];\n\n            if (image.destination.z > current.destination.z\n            || image.destination.z === current.destination.z\n            && image.destination.y >= current.destination.y) {\n\n                target = iterator + 1;\n\n                break;\n            }\n        }\n\n        images.splice(target, 0, image);\n    }\n\n    function idle() {\n\n        this.shaking = {\n\n            'current': false,\n            'duration': 0,\n            'easing': null,\n            'elapsed': 0,\n            'force': {\n\n                'x': 0,\n                'y': 0\n            },\n            'shift': {\n\n                'x': 0,\n                'y': 0\n            }\n        };\n    }\n\n    function look(x, y) {\n\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    function render() {\n\n        images.forEach((image) => {\n\n            const {destination, frame, opacity, source} = image;\n\n            const visible = this.visible(\n\n                destination.x * this.screen.scale(),\n                destination.y * this.screen.scale(),\n                destination.width * this.screen.scale(),\n                destination.height * this.screen.scale()\n            );\n\n            if (opacity > 0\n            && visible === true) {\n\n                const alpha = context.globalAlpha;\n\n                context.globalAlpha = opacity;\n\n                const canvas = {\n\n                    'destination': {\n\n                        'x': this.screen.x() + destination.x * this.screen.scale() - (this.position.x() * this.screen.scale() - this.screen.width() / 2 + this.shaking.shift.x * this.screen.scale()),\n                        'y': this.screen.y() + destination.y * this.screen.scale() - (this.position.y() * this.screen.scale() - this.screen.height() / 2 + this.shaking.shift.y * this.screen.scale()),\n                        'width': destination.width * this.screen.scale(),\n                        'height': destination.height * this.screen.scale()\n                    }\n                };\n\n                const offset = {\n\n                    'top': Math.min(0, canvas.destination.y - this.screen.y()),\n                    'right': Math.max(0, canvas.destination.x + canvas.destination.width - (this.screen.x() + this.screen.width())),\n                    'bottom': Math.max(0, canvas.destination.y + canvas.destination.height - (this.screen.y() + this.screen.height())),\n                    'left': Math.min(0, canvas.destination.x - this.screen.x())\n                };\n\n                context.drawImage(\n\n                    source,\n                    frame.x - offset.left * (frame.width / canvas.destination.width),\n                    frame.y - offset.top * (frame.height / canvas.destination.height),\n                    frame.width - offset.right * (frame.width / canvas.destination.width) - Math.abs(offset.left * (frame.width / canvas.destination.width)),\n                    frame.height - offset.bottom * (frame.height / canvas.destination.height) - Math.abs(offset.top * (frame.height / canvas.destination.height)),\n                    canvas.destination.x - offset.left,\n                    canvas.destination.y - offset.top,\n                    canvas.destination.width - offset.right - Math.abs(offset.left),\n                    canvas.destination.height - offset.bottom - Math.abs(offset.top)\n                );\n\n                context.globalAlpha = alpha;\n            }\n        });\n\n        images = [];\n    }\n\n    function shake(x, y, duration, easing = Ease.reverse(Ease.easeOut(2))) {\n\n        this.idle();\n\n        this.shaking.force = {\n\n            'x': x,\n            'y': y\n        };\n\n        this.shaking.current = true;\n        this.shaking.duration = duration;\n        this.shaking.easing = easing;\n    }\n\n    function update(delta) {\n\n        if (this.shaking.current === false) {\n\n            return;\n        }\n\n        if (this.shaking.elapsed + delta >= this.shaking.duration) {\n\n            this.idle();\n\n            return;\n        }\n\n        this.shaking.elapsed += delta;\n\n        const amplitude = this.shaking.easing(this.shaking.elapsed / this.shaking.duration);\n        const angle = Math.random() * 2 * Math.PI;\n\n        this.shaking.shift.x = Math.round(Math.cos(angle) * this.shaking.force.x * amplitude);\n        this.shaking.shift.y = Math.round(Math.sin(angle) * this.shaking.force.y * amplitude);\n    }\n\n    function visible(x, y, width, height) {\n\n        const camera = {\n\n            'x': this.position.x() * this.screen.scale() - this.screen.width() / 2 + this.shaking.shift.x * this.screen.scale(),\n            'y': this.position.y() * this.screen.scale() - this.screen.height() / 2 + this.shaking.shift.y * this.screen.scale(),\n            'width': this.screen.width(),\n            'height': this.screen.height()\n        };\n\n        if (x + width <= camera.x\n        || x >= camera.x + camera.width\n        || y + height <= camera.y\n        || y >= camera.y + camera.height) {\n\n            return false;\n        }\n\n        return true;\n    }\n\n    this.name = name;\n\n    this.position = {\n\n        'x': () => 0,\n        'y': () => 0\n    };\n\n    this.screen = {\n\n        'x': screen.x,\n        'y': screen.y,\n        'width': screen.width,\n        'height': screen.height,\n        'scale': screen.scale\n    };\n\n    this.shaking = shaking;\n\n    this.add = add;\n    this.idle = idle;\n    this.look = look;\n    this.render = render;\n    this.shake = shake;\n    this.update = update;\n    this.visible = visible;\n}\n\n// exports current module as an object\nexport {Camera};\n","const keynames = [];\n\nkeynames[9] = 'TAB';\nkeynames[13] = 'ENTER';\nkeynames[16] = 'SHIFT';\nkeynames[17] = 'CTRL';\nkeynames[18] = 'ALT';\nkeynames[27] = 'ESC';\nkeynames[32] = 'SPACE';\n\nkeynames[37] = 'LEFT';\nkeynames[38] = 'UP';\nkeynames[39] = 'RIGHT';\nkeynames[40] = 'DOWN';\n\nkeynames[48] = 'ZERO';\nkeynames[49] = 'ONE';\nkeynames[50] = 'TWO';\nkeynames[51] = 'THREE';\nkeynames[52] = 'FOUR';\nkeynames[53] = 'FIVE';\nkeynames[54] = 'SIX';\nkeynames[55] = 'SEVEN';\nkeynames[56] = 'EIGHT';\nkeynames[57] = 'NINE';\n\nkeynames[65] = 'A';\nkeynames[66] = 'B';\nkeynames[67] = 'C';\nkeynames[68] = 'D';\nkeynames[69] = 'E';\nkeynames[70] = 'F';\nkeynames[71] = 'G';\nkeynames[72] = 'H';\nkeynames[73] = 'I';\nkeynames[74] = 'J';\nkeynames[75] = 'K';\nkeynames[76] = 'L';\nkeynames[77] = 'M';\nkeynames[78] = 'N';\nkeynames[79] = 'O';\nkeynames[80] = 'P';\nkeynames[81] = 'Q';\nkeynames[82] = 'R';\nkeynames[83] = 'S';\nkeynames[84] = 'T';\nkeynames[85] = 'U';\nkeynames[86] = 'V';\nkeynames[87] = 'W';\nkeynames[88] = 'X';\nkeynames[89] = 'Y';\nkeynames[90] = 'Z';\n\n// exports current module as an array\nexport {keynames};\n","import {keynames} from './keynames.js';\n\nfunction Keyboard(container, actions, inputs) {\n\n    const states = {};\n\n    function blur() {\n\n        for (let state in states) {\n\n            if (states.hasOwnProperty(state)\n            && states[state] === true) {\n\n                states[state] = false;\n\n                inputs.push({\n\n                    'type': 'KEYBOARD',\n                    'action': state,\n                    'state': 'UP'\n                });\n            }\n        }\n    }\n\n    function destroy() {\n\n        container.removeEventListener('blur', blur);\n        container.removeEventListener('keydown', keydown);\n        container.removeEventListener('keyup', keyup);\n    }\n\n    function keydown(event) {\n\n        const action = 'KEY_' + keynames[event.keyCode];\n\n        if (actions.indexOf(action) !== -1\n        && states[action] === false) {\n\n            event.preventDefault();\n\n            states[action] = true;\n\n            inputs.push({\n\n                'type': 'KEYBOARD',\n                'action': action,\n                'state': 'DOWN'\n            });\n        }\n    }\n\n    function keyup(event) {\n\n        const action = 'KEY_' + keynames[event.keyCode];\n\n        if (actions.indexOf(action) !== -1\n        && states[action] === true) {\n\n            event.preventDefault();\n\n            states[action] = false;\n\n            inputs.push({\n\n                'type': 'KEYBOARD',\n                'action': action,\n                'state': 'UP'\n            });\n        }\n    }\n\n    function setup() {\n\n        container.addEventListener('blur', blur);\n        container.addEventListener('keydown', keydown);\n        container.addEventListener('keyup', keyup);\n    }\n\n    actions.forEach((action) => {\n\n        states[action] = false;\n    });\n\n    setup.call(this);\n\n    this.destroy = destroy;\n    this.setup = setup;\n}\n\n// exports current module as an object\nexport {Keyboard};\n","function Mouse(container, actions, inputs) {\n\n    function contextmenu(event) {\n\n        const action = 'CLICK_RIGHT';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n        }\n    }\n\n    function destroy() {\n\n        container.removeEventListener('contextmenu', contextmenu);\n        container.removeEventListener('mousedown', mousedown);\n        container.removeEventListener('mouseenter', mouseenter);\n        container.removeEventListener('mouseleave', mouseleave);\n        container.removeEventListener('mousemove', mousemove);\n        container.removeEventListener('mouseup', mouseup);\n        container.removeEventListener('wheel', wheel);\n    }\n\n    function mousedown(event) {\n\n        const button = event.button;\n        const buttons = ['LEFT', 'MIDDLE', 'RIGHT'];\n\n        if (typeof buttons[button] === 'undefined') {\n\n            return;\n        }\n\n        const action = 'CLICK_' + buttons[button];\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'DOWN',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mouseenter(event) {\n\n        const action = 'MOVE';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'ENTER',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mouseleave(event) {\n\n        const action = 'MOVE';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'LEAVE',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mousemove(event) {\n\n        const action = 'MOVE';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mouseup(event) {\n\n        const button = event.button;\n        const buttons = ['LEFT', 'MIDDLE', 'RIGHT'];\n\n        if (typeof buttons[button] === 'undefined') {\n\n            return;\n        }\n\n        const action = 'CLICK_' + buttons[button];\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'UP',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function setup() {\n\n        container.addEventListener('contextmenu', contextmenu);\n        container.addEventListener('mousedown', mousedown);\n        container.addEventListener('mouseenter', mouseenter);\n        container.addEventListener('mouseleave', mouseleave);\n        container.addEventListener('mousemove', mousemove);\n        container.addEventListener('mouseup', mouseup);\n        container.addEventListener('wheel', wheel);\n    }\n\n    function wheel(event) {\n\n        const action = 'SCROLL';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            let state;\n\n            if (Math.abs(event.deltaY) >= Math.abs(event.deltaX)) {\n\n                state = 'DOWN';\n\n                if (event.deltaY < 0) {\n\n                    state = 'UP';\n                }\n            }\n\n            else {\n\n                state = 'RIGHT';\n\n                if (event.deltaX < 0) {\n\n                    state = 'LEFT';\n                }\n            }\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': state,\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    setup.call(this);\n\n    this.destroy = destroy;\n    this.setup = setup;\n}\n\n// exports current module as an object\nexport {Mouse};\n","import {Keyboard} from './keyboard.js';\nimport {Mouse} from './mouse.js';\n\nfunction Controllers(container, actions) {\n\n    const controllers = [];\n    const inputs = [];\n\n    function destroy() {\n\n        controllers.forEach((controller) => {\n\n            controller.destroy();\n        });\n    }\n\n    function setup() {\n\n        controllers.push(new Keyboard(container, actions, inputs));\n        controllers.push(new Mouse(container, actions, inputs));\n    }\n\n    setup.call(this);\n\n    this.destroy = destroy;\n    this.inputs = inputs;\n}\n\n// exports current module as an object\nexport {Controllers};\n","import {loadEntities} from 'core/loadEntities';\nimport {Camera} from 'modules/camera.js';\nimport {Controllers} from 'modules/controllers.js';\nimport {World} from 'modules/world.js';\nimport {getRenderers} from 'core/loadRenderers';\nimport {getSystems} from 'core/loadSystems';\nimport {generateDecor} from 'systems/demo/generateDecor';\nimport * as memory from 'modules/memory.js';\n\nfunction start() {\n\n  console.log('start demo scene');\n\n  this.$controllers = new Controllers(this.element, this.models.scenes[this.currentScene]['inputs']());\n  this.$world = new World(this);\n  this.$infos = {started:false};\n\n  this.$origins = {\n      'default': {\n          'x': () => 0,\n          'y': () => 0,\n          'z': () => 0,\n          'scale': () => 1\n      }\n  };\n\n  const scale = () => Math.min((this.size.width / 160), (this.size.height / 144));\n\n  this.$camera = new Camera(this.context, 'default', {\n\n      'x': () => (this.size.width - 160 * scale()) / 2,\n      'y': () => (this.size.height - 144 * scale()) / 2,\n      'width': () => 160 * scale(),\n      'height': () => 144 * scale(),\n      'scale': scale\n  });\n\n  this.$cameraInfo = new Camera(this.context, 'info', {\n\n      'x': () => (this.size.width - 160 * scale()) / 2,\n      'y': () => (this.size.height - 144 * scale()) / 2,\n      'width': () => 160 * scale(),\n      'height': () => 144 * scale(),\n      'scale': scale\n  });\n\n  this.$renderers=getRenderers.call(this);\n  this.$systems=getSystems.call(this);\n\n  var entities = loadEntities.call(this);\n  this.$world.add(entities);\n  generateDecor.call(this,[]);\n  this.$camera.look(()=>this.$world.entities.character.get('position').x+48,()=>72);\n  let bestScoreSaved=memory.get('bestScore');\n  if(bestScoreSaved!=undefined){\n    this.$world.entities.bestScore.get('score').value=bestScoreSaved;\n  }\n\n}\n\nexport {start};\n","var map = {\n\t\"./datasets/common/inputs.json\": [\n\t\t33,\n\t\t41\n\t],\n\t\"./images/common/placeholder-8x1.png\": [\n\t\t34,\n\t\t21\n\t],\n\t\"./images/demo/all-flappy-bird-16x16@1x.png\": [\n\t\t35,\n\t\t22\n\t],\n\t\"./images/demo/background-16x16@1x.png\": [\n\t\t36,\n\t\t23\n\t],\n\t\"./images/demo/best-48x16@1x.png\": [\n\t\t37,\n\t\t24\n\t],\n\t\"./images/demo/character-32x32.png\": [\n\t\t38,\n\t\t25\n\t],\n\t\"./images/demo/clouds-160x16@1x.png\": [\n\t\t39,\n\t\t26\n\t],\n\t\"./images/demo/flappy-bird-16x16@1x.png\": [\n\t\t40,\n\t\t27\n\t],\n\t\"./images/demo/flappy-bird-shadow-16x8@1x.png\": [\n\t\t41,\n\t\t28\n\t],\n\t\"./images/demo/foreground-16x16@1x.png\": [\n\t\t42,\n\t\t29\n\t],\n\t\"./images/demo/game-over-64x64@1x.png\": [\n\t\t43,\n\t\t30\n\t],\n\t\"./images/demo/numbers-8x16@1x.png\": [\n\t\t44,\n\t\t31\n\t],\n\t\"./images/demo/numbers-blue-8x16@1x.png\": [\n\t\t45,\n\t\t32\n\t],\n\t\"./images/demo/pipe-16x16@1x.png\": [\n\t\t46,\n\t\t33\n\t],\n\t\"./images/demo/pipe-shadow-16x8@1x.png\": [\n\t\t47,\n\t\t34\n\t],\n\t\"./images/demo/touch-screen-64x32@1x.png\": [\n\t\t48,\n\t\t35\n\t],\n\t\"./images/demo/waves-16x16@1x.png\": [\n\t\t49,\n\t\t36\n\t],\n\t\"./sounds/demo/explode.mp3\": [\n\t\t50,\n\t\t37\n\t],\n\t\"./sounds/demo/jump.mp3\": [\n\t\t51,\n\t\t38\n\t],\n\t\"./spritesheets/common/character-32x32.png\": [\n\t\t52,\n\t\t39\n\t],\n\t\"./spritesheets/common/spritesheet.png\": [\n\t\t53,\n\t\t40\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 27;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./components/common/camera.json\": [\n\t\t54,\n\t\t42\n\t],\n\t\"./components/common/commands.json\": [\n\t\t55,\n\t\t43\n\t],\n\t\"./components/common/fade.json\": [\n\t\t56,\n\t\t44\n\t],\n\t\"./components/common/forces.json\": [\n\t\t57,\n\t\t45\n\t],\n\t\"./components/common/hitbox.json\": [\n\t\t58,\n\t\t46\n\t],\n\t\"./components/common/images.json\": [\n\t\t59,\n\t\t47\n\t],\n\t\"./components/common/inputs.json\": [\n\t\t60,\n\t\t48\n\t],\n\t\"./components/common/origin.json\": [\n\t\t61,\n\t\t49\n\t],\n\t\"./components/common/position.json\": [\n\t\t62,\n\t\t50\n\t],\n\t\"./components/common/timeout.json\": [\n\t\t63,\n\t\t51\n\t],\n\t\"./components/demo/decor.json\": [\n\t\t64,\n\t\t52\n\t],\n\t\"./components/demo/player.json\": [\n\t\t65,\n\t\t53\n\t],\n\t\"./components/demo/score.json\": [\n\t\t66,\n\t\t54\n\t],\n\t\"./entities/demo/background.json\": [\n\t\t67,\n\t\t55\n\t],\n\t\"./entities/demo/bestScore.json\": [\n\t\t68,\n\t\t56\n\t],\n\t\"./entities/demo/bestScoreStatic.json\": [\n\t\t69,\n\t\t57\n\t],\n\t\"./entities/demo/bottom.json\": [\n\t\t70,\n\t\t58\n\t],\n\t\"./entities/demo/character.json\": [\n\t\t71,\n\t\t59\n\t],\n\t\"./entities/demo/checkpoint.json\": [\n\t\t72,\n\t\t60\n\t],\n\t\"./entities/demo/cloud.json\": [\n\t\t73,\n\t\t61\n\t],\n\t\"./entities/demo/pipeBottom.json\": [\n\t\t74,\n\t\t62\n\t],\n\t\"./entities/demo/pipeTop.json\": [\n\t\t75,\n\t\t63\n\t],\n\t\"./entities/demo/score.json\": [\n\t\t76,\n\t\t64\n\t],\n\t\"./entities/demo/splashEnd.json\": [\n\t\t77,\n\t\t65\n\t],\n\t\"./entities/demo/top.json\": [\n\t\t78,\n\t\t66\n\t],\n\t\"./entities/demo/water.json\": [\n\t\t79,\n\t\t67\n\t],\n\t\"./scenes/demo/entities.json\": [\n\t\t80,\n\t\t68\n\t],\n\t\"./scenes/demo/inputs.json\": [\n\t\t81,\n\t\t69\n\t],\n\t\"./scenes/demo/renderers.json\": [\n\t\t82,\n\t\t70\n\t],\n\t\"./scenes/demo/systems.json\": [\n\t\t83,\n\t\t71\n\t],\n\t\"./snippets/demo/ease-in.js\": [\n\t\t84,\n\t\t1\n\t],\n\t\"./snippets/demo/ease-linear.js\": [\n\t\t85,\n\t\t2\n\t],\n\t\"./snippets/demo/ease-out.js\": [\n\t\t86,\n\t\t3\n\t],\n\t\"./snippets/demo/fade-ending.js\": [\n\t\t87,\n\t\t4\n\t],\n\t\"./snippets/demo/forces-down.js\": [\n\t\t88,\n\t\t5\n\t],\n\t\"./snippets/demo/forces-ending.js\": [\n\t\t89,\n\t\t6\n\t],\n\t\"./snippets/demo/forces-handling.js\": [\n\t\t90,\n\t\t7\n\t],\n\t\"./snippets/demo/handle-hitbox-score.js\": [\n\t\t91,\n\t\t8\n\t],\n\t\"./snippets/demo/handle-hitbox.js\": [\n\t\t92,\n\t\t9\n\t],\n\t\"./snippets/demo/timeout-ending.js\": [\n\t\t93,\n\t\t10\n\t],\n\t\"./systems/common/fade.js\": [\n\t\t94,\n\t\t11\n\t],\n\t\"./systems/common/forces.js\": [\n\t\t95,\n\t\t12\n\t],\n\t\"./systems/common/hitbox.js\": [\n\t\t103,\n\t\t13\n\t],\n\t\"./systems/common/images.js\": [\n\t\t96,\n\t\t14\n\t],\n\t\"./systems/common/inputs.js\": [\n\t\t97,\n\t\t15\n\t],\n\t\"./systems/common/previous.js\": [\n\t\t98,\n\t\t16\n\t],\n\t\"./systems/common/showHitbox.js\": [\n\t\t12\n\t],\n\t\"./systems/common/spritesheets.js\": [\n\t\t99,\n\t\t17\n\t],\n\t\"./systems/common/timeout.js\": [\n\t\t100,\n\t\t18\n\t],\n\t\"./systems/demo/commands.js\": [\n\t\t101,\n\t\t19\n\t],\n\t\"./systems/demo/generateDecor.js\": [\n\t\t5\n\t],\n\t\"./systems/demo/updateScore.js\": [\n\t\t102,\n\t\t20\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 28;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./demo/index.js\": 30,\n\t\"./loading/index.js\": 31\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 29;","import {after} from './after.js';\nimport {before} from './before.js';\nimport {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {resize} from './resize.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './after.js',\n        './before.js',\n        './destroy.js',\n        './render.js',\n        './resize.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {after, before, destroy, render, resize, setup, start, update};\n","import {after} from './after.js';\nimport {before} from './before.js';\nimport {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {resize} from './resize.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './after.js',\n        './before.js',\n        './destroy.js',\n        './render.js',\n        './resize.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {after, before, destroy, render, resize, setup, start, update};\n","function Canvas(type, identifier, width, height, pixelated = false) {\n\n    const element = document.createElement('canvas');\n    const context = element.getContext(type);\n\n    function focus() {\n\n        element.setAttribute('tabindex', 0);\n        element.focus();\n    }\n\n    function resize(width, height) {\n\n        let ratio = window.devicePixelRatio || 1;\n\n        if (pixelated === true) {\n\n            ratio = Math.floor(ratio);\n        }\n\n        element.setAttribute('height', ratio * height);\n        element.setAttribute('width', ratio * width);\n\n        element.style.height = '100%';\n        element.style.width = '100%';\n\n        context.scale(ratio, ratio);\n\n        if (pixelated === true) {\n\n            sharp();\n        }\n    }\n\n    function sharp() {\n\n        element.style.imageRendering = '-moz-crisp-edges';\n        element.style.imageRendering = '-webkit-crisp-edges';\n        element.style.imageRendering = 'crisp-edges';\n        element.style.imageRendering = 'pixelated';\n        context.imageSmoothingEnabled = false;\n    }\n\n    element.setAttribute('id', identifier);\n    element.addEventListener('mousedown', focus);\n\n    resize(width, height);\n\n    this.context = context;\n    this.element = element;\n    this.focus = focus;\n    this.resize = resize;\n}\n\n// exports current module as an object\nexport {Canvas};\n","function Loop(handler, framerate = 60, speed = 1) {\n\n    let elapsedTime = 0;\n    let lastUpdate = null;\n    let paused = false;\n\n    function update() {\n\n        const currentUpdate = performance.now();\n\n        if (lastUpdate !== null\n        && paused === false) {\n\n            // define elapsed time since last update\n            elapsedTime += currentUpdate - lastUpdate;\n\n            // call user's update handler matching timeframe, speed and fixing browser time handling\n            while (elapsedTime >= 1000 / this.framerate / this.speed\n            && paused === false) {\n\n                // define elapsed time since last user's update handler matching timeframe and speed\n                if (elapsedTime >= 5000) {\n\n                     console.log('droped', elapsedTime);\n\n                     // define elapsed time since last user's update handler matching timeframe and speed\n                     elapsedTime -= elapsedTime;\n\n                     handler(elapsedTime);\n\n                     continue;\n                }\n                elapsedTime -= 1000 / this.framerate / this.speed;\n\n                handler(1000 / this.framerate);\n            }\n        }\n\n        // call user's update handler on each available frame\n        requestAnimationFrame(this.update.bind(this));\n\n        lastUpdate = currentUpdate;\n    }\n\n    function pause() {\n\n        paused = true;\n    }\n\n    function play() {\n\n        paused = false;\n    }\n\n    function tick(times = 1) {\n\n        // call user's update handler on each available frame\n        requestAnimationFrame(() => {\n\n            while (times--) {\n\n                handler(1000 / this.framerate);\n            }\n        });\n    }\n\n    this.framerate = framerate;\n    this.speed = speed;\n\n    this.pause = pause;\n    this.play = play;\n    this.tick = tick;\n    this.update = update;\n}\n\n// exports current module as an object\nexport {Loop};\n","const preloadAssets = function() {\r\n  return new Promise((resolve, reject) => {\r\n\r\n    const context = require.context('assets/', true, /^.\\/.+\\.[a-zA-Z0-9]+$/, 'lazy');\r\n\r\n    let promiseArray = [];\r\n\r\n    this.assetsLoaded=[];\r\n    context.keys().forEach((key) => {\r\n\r\n        let promise = new Promise((resolve, reject) => {\r\n            context(key).then((module) => {\r\n\r\n                var assetLoaded = this.assetsLoaded.find((asset) => {\r\n                    return asset.key == key\r\n                })\r\n\r\n                if ((assetLoaded && assetLoaded.source != module) || assetLoaded === undefined) {\r\n\r\n                    if (assetLoaded !== undefined && assetLoaded.source != module) {\r\n                        let index = this.assetsLoaded.indexOf(assetLoaded)\r\n                        if (index > -1) {\r\n                            this.assetsLoaded.splice(index, 1);\r\n                        }\r\n                    }\r\n\r\n                    loadAsset(key, module).then((asset) => {\r\n\r\n                        this.assetsLoaded.push(asset);\r\n\r\n                        if (typeof this.assets[asset.type + 's'] === 'undefined') {\r\n\r\n                            this.assets[asset.type + 's'] = {};\r\n                        }\r\n\r\n                        if (typeof this.assets[asset.type + 's'][asset.scope] === 'undefined') {\r\n\r\n                            this.assets[asset.type + 's'][asset.scope] = {};\r\n                        }\r\n\r\n                        this.assets[asset.type + 's'][asset.scope][asset.name] = asset.getter;\r\n\r\n                    });\r\n\r\n                }\r\n                resolve(module);\r\n            });\r\n        });\r\n        promiseArray.push(promise);\r\n    });\r\n\r\n    Promise.all(promiseArray).then((modules) => {\r\n        if (module.hot) {\r\n          /*  module.hot.dispose(context.id, (contextId) => {\r\n                preloadAssets.call(this);\r\n            });*/\r\n            module.hot.accept(context.id, (contextId) => {\r\n                preloadAssets.call(this);\r\n            });\r\n        }\r\n        resolve()\r\n    });\r\n\r\n  });\r\n}\r\n\r\nfunction loadAsset(key,module) {\r\n\r\n    // creates a promise for current asset preloading\r\n    return new Promise(function (resolve, reject) {\r\n\r\n        console.log(\"load assets or reload\")\r\n\r\n        const [type, scope, name] = key.match(/(?!\\.\\/|\\/)(.+?)(?=(?:\\.[^\\.\\/]+$)|\\/)/g);\r\n\r\n        const asset = {\r\n            'key': key,\r\n            'name': name,\r\n            'scope': scope,\r\n            'source': module,\r\n            'type': type.substring(0, type.length - 1)\r\n        };\r\n\r\n\r\n        // if current asset is a dataset then preload it\r\n        if (asset.type === 'dataset') {\r\n\r\n            asset.getter = () => asset.source;\r\n\r\n            resolve(asset);\r\n        }\r\n\r\n        // if current asset is an image then preload it\r\n        if (asset.type === 'image' || asset.type === 'spritesheet') {\r\n\r\n            const image = new Image();\r\n\r\n            image.src =  asset.source;\r\n\r\n            // when current image is loaded then resolve current promise\r\n            image.onload = function () {\r\n\r\n                asset.getter = () => image;\r\n\r\n                resolve(asset);\r\n            };\r\n        }\r\n\r\n        // if current asset is a sound then preload it\r\n        else if (asset.type === 'sound') {\r\n\r\n            const sound = new Audio(asset.source);\r\n\r\n            // when current sound is loaded then resolve current promise\r\n            sound.oncanplaythrough = function () {\r\n\r\n                asset.getter = () => sound.cloneNode();\r\n\r\n                resolve(asset);\r\n            };\r\n        }\r\n    });\r\n\r\n}\r\n\r\n\r\nexport {preloadAssets}\r\n","const preloadModels = function() {\r\n\r\n return new Promise((resolve, reject) => {\r\n    const context = require.context('models/', true, /^.\\/.+\\.[a-zA-Z0-9]+$/, 'lazy');\r\n\r\n    let promiseArray = [];\r\n\r\n    this.modelsLoaded=[];\r\n    context.keys().forEach((key) => {\r\n\r\n        let promise = new Promise((resolve, reject) => {\r\n            context(key).then((module) => {\r\n\r\n                var componentLoaded = this.modelsLoaded.find((component) => {\r\n                    return component.key == key\r\n                })\r\n\r\n                if ((componentLoaded && componentLoaded.source != module) || componentLoaded === undefined) {\r\n\r\n                    if (componentLoaded !== undefined && componentLoaded.source != module) {\r\n                        let index = this.modelsLoaded.indexOf(componentLoaded)\r\n                        if (index > -1) {\r\n                            this.modelsLoaded.splice(index, 1);\r\n                        }\r\n                    }\r\n\r\n                    loadModel.call(this,key, module).then((component) => {\r\n\r\n                        this.modelsLoaded.push(component);\r\n\r\n                        if (typeof this.models[component.type + 's'] === 'undefined') {\r\n\r\n                            this.models[component.type + 's'] = {};\r\n                        }\r\n\r\n                        if (typeof this.models[component.type + 's'][component.scope] === 'undefined') {\r\n\r\n                            this.models[component.type + 's'][component.scope] = {};\r\n                        }\r\n\r\n                        this.models[component.type + 's'][component.scope][component.name] = component.getter;\r\n\r\n                    });\r\n\r\n                }\r\n                resolve(module);\r\n            });\r\n        });\r\n        promiseArray.push(promise);\r\n    });\r\n\r\n    Promise.all(promiseArray).then((modules) => {\r\n        if (module.hot) {\r\n          /*  module.hot.dispose(context.id, (contextId) => {\r\n                preloadModels.call(this);\r\n            });*/\r\n            module.hot.accept(context.id, (contextId) => {\r\n                preloadModels.call(this);\r\n            });\r\n        }\r\n        resolve()\r\n    });\r\n  });\r\n}\r\n\r\nfunction loadModel(key,module) {\r\n\r\n    // creates a promise for current asset preloading\r\n    return new Promise((resolve, reject)=> {\r\n\r\n        console.log(\"load models or reload\")\r\n\r\n        const [type, scope, name] = key.match(/(?!\\.\\/|\\/)(.+?)(?=(?:\\.[^\\.\\/]+$)|\\/)/g);\r\n\r\n        const asset = {\r\n            'key': key,\r\n            'name': name,\r\n            'scope': scope,\r\n            'source': module,\r\n            'type': type.substring(0, type.length - 1)\r\n        };\r\n\r\n\r\n        if (type === 'snippets') {\r\n            asset.getter = asset.source.default.bind(this);\r\n            resolve(asset);\r\n        }else{\r\n          asset.getter = () => asset.source;\r\n        }\r\n\r\n          resolve(asset);\r\n\r\n    });\r\n\r\n}\r\nexport {preloadModels}\r\n","const preloadScenes =function() {\r\n\r\n    const context = require.context('scenes/', true, /^\\.\\/[^\\/]+\\/index\\.js$/, 'sync');\r\n\r\n    context.keys().forEach((key) => {\r\n\r\n        const name = key.match(/^\\.\\/([^\\/]+)\\/index\\.js$/)[1];\r\n\r\n        this.scenes[name] = context(key);\r\n    });\r\n}\r\n\r\nexport {preloadScenes};\r\n","import {Theatre} from 'core/theatre.js';\n\nvar container = document.body.querySelector('.theatre-container');\n\nnew Theatre({\n    'container': container,\n    'expose': true,\n    'sharp': true\n});\n","//import * as scenes from 'scenes/index.js';\nimport {Canvas} from 'core/canvas.js';\nimport {Loop} from 'core/loop.js';\n\nimport {preloadAssets} from 'core/preloadAssets.js';\nimport {preloadModels} from 'core/preloadModels.js';\nimport {preloadScenes} from 'core/preloadScenes.js';\n\nfunction Theatre(config) {\n\n    const {container} = config;\n\n    const expose = config.expose || false;\n    const framerate = config.framerate || 60;\n    const sharp = config.sharp || false;\n    const speed = config.speed || 1;\n\n    const size = {\n        'height': container.offsetHeight,\n        'width': container.offsetWidth\n    };\n\n\n    let canvas = null;\n    let loading = null;\n    let restarting = false;\n    let updates = 0;\n\n\n        function forward(timeframe) {\n\n            this.delta = timeframe;\n\n            if (container.offsetWidth !== this.size.width\n            || container.offsetHeight !== this.size.height) {\n\n                resize.call(this);\n            }\n\n            if (this.playing === true) {\n\n                this.tick();\n            }\n\n            this.scene.before.call(this);\n\n            if (updates > 0) {\n\n                update.call(this);\n            }\n\n            this.scene.render.call(this);\n            this.scene.after.call(this);\n        }\n\n\n    function initialize() {\n\n        canvas = new Canvas('2d', 'theatre', this.size.width, this.size.height, sharp);\n\n        container.appendChild(canvas.element);\n\n        canvas.focus();\n\n        this.container = container;\n        this.context = canvas.context;\n        this.element = canvas.element;\n        this.models= {};\n        this.assets = {};\n        this.delta = 0;\n\n        this.loop = new Loop(forward.bind(this), framerate, speed);\n        var promisePreloadAssets=preloadAssets.call(this);\n        var promisePreloadModels=preloadModels.call(this);\n        preloadScenes.call(this);\n\n        Promise.all([promisePreloadAssets,promisePreloadModels]).then((modules) => {\n          this.preloading=false;\n        });\n\n\n/*        assets.call(this);\n        components.call(this);\n        snippets.call(this);\n        scenes.call(this);*/\n\n        this.scene = this.scenes.loading;\n        this.scene.setup.call(this);\n        this.scene.start.call(this);\n\n        this.loop.update();\n    }\n\n\n        function load(scene) {\n\n            loading = scene;\n        }\n\n        function pause() {\n\n            this.playing = false;\n        }\n\n        function play() {\n\n            this.playing = true;\n        }\n\n        function resize() {\n\n            this.size.width = container.offsetWidth;\n            this.size.height = container.offsetHeight;\n\n            canvas.resize(this.size.width, this.size.height);\n\n            this.scene.resize.call(this);\n        }\n\n        function restart() {\n\n            restarting = true;\n        }\n\n\n\n    function tick(times = 1) {\n\n        updates += times;\n    }\n\n    function update() {\n\n        while (updates > 0) {\n\n            this.scene.update.call(this);\n\n            updates -= 1;\n\n            if (restarting === true) {\n\n                this.scene.start.call(this);\n\n                restarting = false;\n\n                continue;\n            }\n\n            if (loading !== null) {\n\n                this.scene.destroy.call(this);\n                this.scene = this.scenes[loading];\n                this.currentScene=loading;\n                this.scene.setup.call(this);\n                this.scene.start.call(this);\n\n                loading = null;\n\n                continue;\n            }\n        }\n    }\n\n    this.playing = true;\n    this.preloading = true;\n    this.currentScene;\n    this.$={};\n    this.scenes = {};\n    this.size = size;\n    this.snippets = {};\n    this.state = {};\n    this.version = '0.39.0';\n    this.cachedEntities={};\n    this.load = load;\n    this.pause = pause;\n    this.play = play;\n    this.restart = restart;\n    this.tick = tick;\n\n    initialize.call(this, config);\n\n    if (expose === true) {\n\n        window.theatre = this;\n    }\n}\n\n// exports current module as an object\nexport {\n    Theatre\n};\n"],"sourceRoot":""}